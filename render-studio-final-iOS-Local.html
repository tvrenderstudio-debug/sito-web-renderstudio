<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <!-- iOS Safari Specific -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    <title>RENDER STUDIO | We Elevate Your Image</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&family=JetBrains+Mono:wght@300;400;500&family=Inter:wght@300;400;600&family=Space+Mono:wght@400;700&family=Syncopate:wght@400;700&display=swap"
        rel="stylesheet">

    <!-- GSAP Animation Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        

        /* ========================================
           HIGH-TECH LUXURY ANIMATED BACKGROUNDS
        ======================================== */

        /* Chrome Geometric Floating Shapes */
        @keyframes floatGeometric {
            0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.15; }
            50% { transform: translateY(-30px) rotate(180deg); opacity: 0.25; }
        }

        @keyframes pulseChrome {
            0%, 100% { opacity: 0.1; transform: scale(1); }
            50% { opacity: 0.2; transform: scale(1.1); }
        }

        @keyframes rotateHex {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes shineEffect {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        /* Section Base with Black Background */
        #servizi, #portfolio, #chisiamo, footer {
            background: #000000 !important;
            position: relative;
            overflow: hidden;
        }

        /* Animated Grid Background */
        #servizi::before, #portfolio::before, #chisiamo::before {
            content: '';
            position: absolute;
            inset: 0;
            background-size: 60px 60px;
            background-image: 
                linear-gradient(to right, rgba(255,255,255,0.03) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(255,255,255,0.03) 1px, transparent 1px);
            mask-image: radial-gradient(ellipse at center, black 20%, transparent 70%);
            pointer-events: none;
            z-index: 0;
        }

        /* Floating Chrome Hexagons */
        #servizi::after {
            content: '';
            position: absolute;
            width: 200px;
            height: 200px;
            top: 20%;
            right: 10%;
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(150,150,150,0.05) 50%, rgba(255,255,255,0.1) 100%);
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
            animation: floatGeometric 12s ease-in-out infinite, rotateHex 30s linear infinite;
            pointer-events: none;
            z-index: 0;
        }

        /* Floating Chrome Diamond */
        #portfolio::after {
            content: '';
            position: absolute;
            width: 150px;
            height: 150px;
            bottom: 15%;
            left: 8%;
            background: linear-gradient(45deg, rgba(255,255,255,0.15) 0%, rgba(100,100,100,0.05) 50%, rgba(255,255,255,0.15) 100%);
            clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
            animation: floatGeometric 15s ease-in-out infinite reverse, pulseChrome 6s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }

        /* Glowing Chrome Circle */
        #chisiamo::after {
            content: '';
            position: absolute;
            width: 250px;
            height: 250px;
            top: 30%;
            right: 5%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 50%;
            animation: pulseChrome 8s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }

        /* Chrome Shine Lines */
        .chrome-line {
            position: absolute;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            background-size: 200% 100%;
            animation: shineEffect 4s linear infinite;
        }

        /* Creative Text Styles */
        .text-chrome {
            background: linear-gradient(180deg, #FFFFFF 0%, #A8A8A8 50%, #FFFFFF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0px 4px 15px rgba(255,255,255,0.3));
        }

        .text-outline {
            color: transparent;
            -webkit-text-stroke: 1.5px rgba(255, 255, 255, 0.5);
        }

        .text-glow {
            color: #FFFFFF;
            text-shadow: 0 0 20px rgba(255,255,255,0.6), 0 0 40px rgba(255,255,255,0.3);
        }

        .text-silver {
            background: linear-gradient(90deg, #888888 0%, #FFFFFF 50%, #888888 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Ensure content is above backgrounds */
        .section > * {
            position: relative;
            z-index: 1;
        }

        :root {
            --bg: #000000;
            --bg2: #080808;
            --accent: #ffffff;
            --accent2: #888888;
            --accent-glow: rgba(255, 255, 255, 0.3);
            --accent-soft: rgba(255, 255, 255, 0.15);
            --white: #ffffff;
            --gray: rgba(255, 255, 255, 0.5);
            --card-bg: rgba(255, 255, 255, 0.02);
            --radius: 16px;
            --radius-lg: 24px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html,
        body {
            background: var(--bg);
            color: #fff;
            font-family: "Inter", system-ui, sans-serif;
            scroll-behavior: smooth;
            overflow-x: hidden;
            overflow-anchor: none;
            /* Prevent scroll jump on content change */
        }


        /* Chrome Text Effect - Deep Shadow & Glow */
        .text-chrome {
            background: linear-gradient(
                to bottom,
                #FFFFFF 0%,
                #E0E0E0 40%,
                #888888 50%,
                #E0E0E0 60%,
                #FFFFFF 100%
            );
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0px 0px 30px rgba(255, 255, 255, 0.4);
            filter: drop-shadow(0px 4px 8px rgba(0,0,0,0.8)) drop-shadow(0px 0px 20px rgba(255,255,255,0.2));
        }

        /* Large Responsive Titles */
        .hud-title {
            font-family: "Syncopate", sans-serif;
            font-weight: 700;
            font-size: clamp(42px, 10vw, 100px);
            line-height: 1.1;
            text-transform: uppercase;
        }

        .section-title {
            font-family: "Syncopate", sans-serif;
            font-size: clamp(48px, 12vw, 120px);
            font-weight: 700;
        }


        /* Animated Background Gradient */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 80%, var(--accent-glow) 0%, transparent 40%),
                radial-gradient(circle at 80% 20%, rgba(0, 180, 220, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 50% 50%, rgba(200, 200, 200, 0.05) 0%, transparent 50%);
            animation: floatBg 20s ease-in-out infinite;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes floatBg {

            0%,
            100% {
                transform: translate(0, 0) rotate(0deg);
            }

            33% {
                transform: translate(2%, 2%) rotate(2deg);
            }

            66% {
                transform: translate(-2%, 1%) rotate(-1deg);
            }
        }

        /* Floating Orbs removed for performance */

        /* Orange Gradient Text */
        .text-gradient {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent2) 50%, var(--white) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Creative Cards with Glassmorphism */
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: var(--radius);
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            position: relative;
            overflow: hidden;
        }

        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s;
        }

        .glass-card:hover {
            transform: translateY(-8px);
            border-color: var(--accent);
            box-shadow: 0 20px 60px rgba(255, 255, 255, 0.15), 0 0 40px rgba(255, 255, 255, 0.1);
        }

        .glass-card:hover::before {
            left: 100%;
        }

        /* Glowing Buttons */
        .btn-glow {
            padding: 16px 36px;
            font-family: "JetBrains Mono", monospace;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent), var(--accent2));
            color: #000;
            box-shadow: 0 4px 20px rgba(255, 255, 255, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 8px 40px rgba(255, 255, 255, 0.6);
        }

        .btn-secondary {
            background: transparent;
            color: var(--accent);
            border: 2px solid var(--accent);
        }

        .btn-secondary:hover {
            background: var(--accent);
            color: #000;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.4);
        }

        /* Creative Tags */
        .tag {
            padding: 8px 16px;
            font-family: "JetBrains Mono", monospace;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: var(--accent);
            transition: all 0.3s;
        }

        .tag:hover {
            background: var(--accent);
            color: #000;
            transform: scale(1.05);
        }

        /* Animated Underline */
        .animated-underline {
            position: relative;
            display: inline-block;
        }

        .animated-underline::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            border-radius: 2px;
            transition: width 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .animated-underline:hover::after {
            width: 100%;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--accent), var(--accent2));
            border-radius: 10px;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 4px;
        }

        ::-webkit-scrollbar-track {
            background: #000;
        }

        ::-webkit-scrollbar-thumb {
            background: #fff;
        }

        /* Film Grain Overlay */
        body::after {
            content: '';
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 9990;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            opacity: 0.015;
            mix-blend-mode: overlay;
        }

        /* Animation Hero Section */
        #animation-section {
            position: relative;
            width: 100%;
            height: 100vh;
            min-height: 600px;
            overflow: hidden;
        }

        #container {
            position: absolute;
            inset: 0;
            z-index: 0;
            touch-action: pan-y;
            /* Allow vertical scroll on mobile */
        }

        #container canvas {
            touch-action: pan-y !important;
            /* Force scroll on canvas */
        }

        /* HUD Overlay */
        .sheet {
            position: absolute;
            inset: 0;
            margin: auto;
            width: min(92%, calc(92% * var(--a4)));
            height: min(100%, calc(100% / var(--a4)));
            z-index: 2;
            pointer-events: none;
            background: linear-gradient(180deg, rgba(255, 255, 255, .02), transparent);
            overflow: hidden;
        }

        /* Grid removed */

        /* Corners removed */

        .hud {
            position: absolute;
            inset: 0;
            padding: var(--sheetPad);
            display: grid;
            grid-template-rows: auto 1fr auto;
            gap: 18px;
        }

        .topRow {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 16px;
        }

        .titleBlock {
            display: flex;
            flex-direction: column;
            gap: 6px;
            max-width: 70%;
        }

        .kicker {
            font-family: "JetBrains Mono", monospace;
            font-size: 11px;
            letter-spacing: .18em;
            text-transform: uppercase;
            color: var(--hud2);
        }

        .title {
            font-family: "Playfair Display", serif;
            font-weight: 500;
            font-size: 34px;
            line-height: 1.0;
            color: rgba(255, 255, 255, .92);
        }

        .sub {
            font-family: "JetBrains Mono", monospace;
            font-size: 12px;
            color: var(--hud2);
        }

        .statusBlock {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 8px;
        }

        .pill {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 10px;
            border: 1px solid var(--line);
            border-radius: 999px;
            background: rgba(255, 255, 255, .02);
            font-family: "JetBrains Mono", monospace;
            font-size: 11px;
            color: rgba(255, 255, 255, .85);
        }

        .recDot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #fff;
            opacity: .85;
        }

        .metaGrid {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 14px;
            align-items: end;
            padding-top: 14px;
        }

        .notes {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .noteLine {
            display: flex;
            gap: 10px;
            font-family: "JetBrains Mono", monospace;
            font-size: 11px;
            color: var(--hud2);
            letter-spacing: .05em;
        }

        .label {
            color: rgba(255, 255, 255, .65);
        }

        /* Loader */
        #loader {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            background: var(--bg);
            transition: opacity 1.2s;
        }

        .spinner {
            width: 34px;
            height: 34px;
            border: 1px solid rgba(255, 255, 255, .14);
            border-top-color: rgba(255, 255, 255, .85);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            text-align: center;
        }

        .scroll-indicator span {
            font-family: "JetBrains Mono", monospace;
            font-size: 10px;
            color: rgba(255, 255, 255, .5);
            text-transform: uppercase;
            letter-spacing: 0.3em;
            animation: pulse 2s ease-in-out infinite;
        }

        .scroll-indicator .arrow {
            display: block;
            margin-top: 8px;
            font-size: 20px;
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: .5;
            }

            50% {
                opacity: 1;
            }
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(8px);
            }
        }

        /* Website Sections - Full width background, centered content */
        .section {
            padding: 120px 24px;
            width: 100%;
        }

        .section>*:not(canvas) {
            max-width: 1280px;
            margin-left: auto;
            margin-right: auto;
        }

        canvas.particle-canvas {
            max-width: none !important;
            width: 100% !important;
            left: 0 !important;
            transform: none !important;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 60px;
        }

        .section-title {
            font-family: "Syncopate", sans-serif;
            font-size: clamp(48px, 12vw, 120px);
            font-weight: 700;
            background: linear-gradient(to bottom, #FFFFFF 0%, #E0E0E0 40%, #888888 50%, #E0E0E0 60%, #FFFFFF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0px 4px 8px rgba(0,0,0,0.8)) drop-shadow(0px 0px 25px rgba(255,255,255,0.3));
        }

        .section-num {
            font-family: "JetBrains Mono", monospace;
            color: var(--accent);
            font-size: 24px;
            opacity: 0.5;
            padding: 8px 16px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
        }

        .section-num {
            font-family: "JetBrains Mono", monospace;
            color: rgba(255, 255, 255, .3);
            font-size: 20px;
        }

        /* Hero Section - Text LEFT, Animation RIGHT */
        #hero {
            position: relative;
            min-height: 100vh;
            display: grid;
            grid-template-columns: 1fr 1fr;
            align-items: center;
            overflow: visible;
            /* Changed from hidden to allow scroll */
            background: #000;
            padding: 0;
        }

        /* 3D Animation Container - FULLSCREEN CENTERED */
        #hero #container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* Hero Content - LEFT SIDE */
        #hero .hero-content {
            position: relative;
            z-index: 2;
            padding: 80px 40px 80px 80px;
            max-width: 650px;
        }

        /* Animated Section Backgrounds */
        .section {
            position: relative;
            overflow: hidden;
        }

        .section::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                radial-gradient(ellipse at 20% 80%, rgba(255, 255, 255, 0.03) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 20%, rgba(255, 255, 255, 0.02) 0%, transparent 40%),
                linear-gradient(180deg, rgba(0, 0, 0, 0.9) 0%, rgba(10, 10, 15, 0.95) 50%, rgba(0, 0, 0, 0.9) 100%);
            pointer-events: none;
            z-index: 0;
        }

        /* ========================================
           DYNAMIC TECH BACKGROUNDS - HIGH VISIBILITY
        ======================================== */

        /* SERVIZI - Animated Grid with Moving Lines */
        #servizi {
            background: #000508;
            position: relative;
            overflow: hidden;
        }

        #servizi::before {
            content: '';
            position: absolute;
            inset: -100%;
            background:
                /* Moving grid */
                linear-gradient(90deg, transparent 0%, transparent 49%, rgba(255, 255, 255, 0.15) 50%, transparent 51%, transparent 100%),
                linear-gradient(0deg, transparent 0%, transparent 49%, rgba(255, 255, 255, 0.1) 50%, transparent 51%, transparent 100%);
            background-size: 60px 60px;
            animation: gridMove 4s linear infinite;
            pointer-events: none;
            z-index: 0;
        }

        #servizi::after {
            content: '';
            position: absolute;
            inset: 0;
            background:
                /* Glowing orbs that pulse */
                radial-gradient(circle 300px at 20% 30%, rgba(255, 255, 255, 0.15) 0%, transparent 60%),
                radial-gradient(circle 250px at 80% 70%, rgba(150, 150, 150, 0.12) 0%, transparent 60%),
                radial-gradient(circle 200px at 60% 20%, rgba(200, 200, 200, 0.1) 0%, transparent 50%);
            animation: orbPulse 5s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes gridMove {
            0% {
                transform: translate(0, 0);
            }

            100% {
                transform: translate(60px, 60px);
            }
        }

        @keyframes orbPulse {

            0%,
            100% {
                opacity: 0.6;
                filter: blur(0px);
            }

            50% {
                opacity: 1;
                filter: blur(20px);
            }
        }

        /* PORTFOLIO - Scanlines + Digital Rain Effect */
        #portfolio {
            background: linear-gradient(180deg, #000812 0%, #020510 100%);
            position: relative;
            overflow: hidden;
        }

        #portfolio::before {
            content: '';
            position: absolute;
            top: -100%;
            left: 0;
            right: 0;
            height: 300%;
            background:
                /* Horizontal scanning line */
                linear-gradient(180deg,
                    transparent 0%,
                    transparent 45%,
                    rgba(255, 255, 255, 0.3) 48%,
                    rgba(255, 255, 255, 0.5) 50%,
                    rgba(255, 255, 255, 0.3) 52%,
                    transparent 55%,
                    transparent 100%),
                /* Vertical lines (digital rain) */
                repeating-linear-gradient(90deg,
                    transparent 0px,
                    transparent 39px,
                    rgba(255, 255, 255, 0.08) 40px,
                    rgba(255, 255, 255, 0.08) 41px);
            animation: scanDown 8s linear infinite;
            pointer-events: none;
            z-index: 0;
        }

        #portfolio::after {
            content: '';
            position: absolute;
            inset: 0;
            background:
                /* Glitch blocks */
                repeating-linear-gradient(0deg,
                    transparent 0px,
                    transparent 3px,
                    rgba(255, 255, 255, 0.03) 3px,
                    rgba(255, 255, 255, 0.03) 4px);
            pointer-events: none;
        }

        @keyframes scanDown {
            0% {
                transform: translateY(0);
            }

            100% {
                transform: translateY(33.33%);
            }
        }

        /* CHI SIAMO - Floating Particles + Wave Effect */
        #chisiamo {
            background: linear-gradient(180deg, #030510 0%, #050815 50%, #020408 100%);
            position: relative;
            overflow: hidden;
        }

        #chisiamo::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                /* Animated particles */
                radial-gradient(circle 4px at 10% 20%, rgba(255, 255, 255, 0.8) 0%, transparent 100%),
                radial-gradient(circle 3px at 25% 60%, rgba(255, 255, 255, 0.6) 0%, transparent 100%),
                radial-gradient(circle 5px at 40% 10%, rgba(200, 200, 200, 0.7) 0%, transparent 100%),
                radial-gradient(circle 3px at 55% 80%, rgba(138, 100, 255, 0.6) 0%, transparent 100%),
                radial-gradient(circle 4px at 70% 35%, rgba(220, 220, 220, 0.7) 0%, transparent 100%),
                radial-gradient(circle 3px at 85% 65%, rgba(255, 255, 255, 0.5) 0%, transparent 100%),
                radial-gradient(circle 5px at 95% 15%, rgba(200, 200, 200, 0.6) 0%, transparent 100%),
                radial-gradient(circle 4px at 15% 85%, rgba(180, 180, 180, 0.7) 0%, transparent 100%);
            animation: particleFloat 12s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }

        #chisiamo::after {
            content: '';
            position: absolute;
            bottom: -50%;
            left: -50%;
            right: -50%;
            height: 200%;
            background:
                radial-gradient(ellipse 100% 40% at 50% 100%, rgba(255, 255, 255, 0.12) 0%, transparent 60%),
                radial-gradient(ellipse 80% 30% at 30% 80%, rgba(150, 150, 150, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse 80% 30% at 70% 90%, rgba(200, 200, 200, 0.08) 0%, transparent 50%);
            animation: waveMove 8s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes particleFloat {

            0%,
            100% {
                transform: translateY(0) translateX(0);
                opacity: 0.7;
            }

            25% {
                transform: translateY(-20px) translateX(10px);
                opacity: 1;
            }

            50% {
                transform: translateY(-5px) translateX(-5px);
                opacity: 0.8;
            }

            75% {
                transform: translateY(-15px) translateX(15px);
                opacity: 1;
            }
        }

        @keyframes waveMove {

            0%,
            100% {
                transform: translateY(0) scale(1);
            }

            50% {
                transform: translateY(-30px) scale(1.1);
            }
        }

        /* FOOTER - Tech Pulse */
        footer {
            background: linear-gradient(180deg, #020408 0%, #000204 100%);
            position: relative;
            overflow: hidden;
        }

        footer::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                radial-gradient(circle 400px at 50% 100%, rgba(255, 255, 255, 0.08) 0%, transparent 70%);
            animation: footerPulse 4s ease-in-out infinite;
            pointer-events: none;
        }

        footer::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent 0%, var(--accent) 50%, transparent 100%);
            animation: lineGlow 3s ease-in-out infinite;
        }

        @keyframes footerPulse {

            0%,
            100% {
                opacity: 0.5;
                transform: scale(1);
            }

            50% {
                opacity: 1;
                transform: scale(1.2);
            }
        }

        @keyframes lineGlow {

            0%,
            100% {
                opacity: 0.5;
            }

            50% {
                opacity: 1;
            }
        }

        /* CONTATTI - Data Stream */
        #contatti {
            background: linear-gradient(180deg, #000510 0%, #030308 100%);
            position: relative;
            overflow: hidden;
        }

        #contatti::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                repeating-linear-gradient(90deg,
                    transparent 0px,
                    transparent 99px,
                    rgba(255, 255, 255, 0.06) 100px),
                repeating-linear-gradient(0deg,
                    transparent 0px,
                    transparent 99px,
                    rgba(255, 255, 255, 0.04) 100px);
            animation: dataGrid 10s linear infinite;
            pointer-events: none;
            z-index: 0;
        }

        #contatti::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.05), transparent);
            animation: dataSweep 6s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes dataGrid {
            0% {
                background-position: 0 0, 0 0;
            }

            100% {
                background-position: 100px 0, 0 100px;
            }
        }

        @keyframes dataSweep {

            0%,
            100% {
                left: -50%;
                opacity: 0;
            }

            50% {
                left: 100%;
                opacity: 1;
            }
        }

        @keyframes auroraMove {

            0%,
            100% {
                transform: translate(0, 0) rotate(0deg);
            }

            33% {
                transform: translate(5%, -3%) rotate(1deg);
            }

            66% {
                transform: translate(-3%, 5%) rotate(-1deg);
            }
        }

        /* FOOTER - Liquid Gradient */
        footer {
            background: linear-gradient(180deg, #000510 0%, #030308 50%, #000000 100%);
            position: relative;
            overflow: hidden;
        }

        footer::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.06) 0%, transparent 40%),
                radial-gradient(circle at 80% 20%, rgba(150, 150, 150, 0.04) 0%, transparent 40%),
                linear-gradient(45deg, transparent 45%, rgba(255, 255, 255, 0.02) 50%, transparent 55%);
            background-size: 100% 100%, 100% 100%, 20px 20px;
            animation: liquidFlow 12s ease-in-out infinite;
            pointer-events: none;
        }

        footer::after {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
        }

        @keyframes liquidFlow {

            0%,
            100% {
                opacity: 0.7;
            }

            50% {
                opacity: 1;
            }
        }

        /* Side Decorations - Left */
        .side-decoration-left {
            position: fixed;
            left: 0;
            top: 0;
            width: 60px;
            height: 100vh;
            z-index: 100;
            pointer-events: none;
            background: linear-gradient(90deg, rgba(0, 0, 0, 0.9) 0%, transparent 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }

        .side-decoration-left::before {
            content: '';
            position: absolute;
            left: 30px;
            top: 10%;
            height: 80%;
            width: 1px;
            background: linear-gradient(180deg,
                    transparent 0%,
                    var(--accent) 20%,
                    var(--accent) 50%,
                    var(--accent) 80%,
                    transparent 100%);
            opacity: 0.3;
        }

        .side-decoration-left::after {
            content: '';
            position: absolute;
            left: 30px;
            top: 50%;
            transform: translateY(-50%);
            width: 8px;
            height: 8px;
            background: var(--accent);
            border-radius: 50%;
            box-shadow: 0 0 20px var(--accent-glow);
            animation: pulse 2s ease-in-out infinite;
        }

        /* Side Decorations - Right */
        .side-decoration-right {
            position: fixed;
            right: 0;
            top: 0;
            width: 60px;
            height: 100vh;
            z-index: 100;
            pointer-events: none;
            background: linear-gradient(-90deg, rgba(0, 0, 0, 0.9) 0%, transparent 100%);
        }

        .side-decoration-right::before {
            content: '';
            position: absolute;
            right: 30px;
            top: 10%;
            height: 80%;
            width: 1px;
            background: linear-gradient(180deg,
                    transparent 0%,
                    rgba(255, 255, 255, 0.2) 20%,
                    rgba(255, 255, 255, 0.1) 50%,
                    rgba(255, 255, 255, 0.2) 80%,
                    transparent 100%);
        }

        /* Data Lines Animation */
        .data-line {
            position: absolute;
            left: 25px;
            width: 2px;
            height: 30px;
            background: var(--accent);
            opacity: 0;
            animation: dataFlow 4s ease-in-out infinite;
        }

        .data-line:nth-child(1) {
            top: 20%;
            animation-delay: 0s;
        }

        .data-line:nth-child(2) {
            top: 35%;
            animation-delay: 0.5s;
        }

        .data-line:nth-child(3) {
            top: 65%;
            animation-delay: 1s;
        }

        .data-line:nth-child(4) {
            top: 80%;
            animation-delay: 1.5s;
        }

        @keyframes dataFlow {

            0%,
            100% {
                opacity: 0;
                transform: translateY(-20px);
            }

            50% {
                opacity: 0.6;
                transform: translateY(20px);
            }
        }

        /* Scan Line Effect */
        .scan-line {
            position: fixed;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            opacity: 0.1;
            z-index: 99;
            animation: scanLine 8s linear infinite;
        }

        @keyframes scanLine {
            0% {
                top: -2px;
            }

            100% {
                top: 100vh;
            }
        }

        /* Creative Separator Lines */
        .section-separator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 60px;
            position: relative;
            z-index: 1;
        }

        .separator-line {
            width: 80px;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
        }

        .separator-dot {
            width: 8px;
            height: 8px;
            background: var(--accent);
            border-radius: 50%;
            box-shadow: 0 0 20px var(--accent-glow);
            animation: pulse 2s ease-in-out infinite;
        }

        /* Section Dividers */
        .section-divider {
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg,
                    transparent 0%,
                    rgba(255, 255, 255, 0.3) 20%,
                    var(--accent) 50%,
                    rgba(255, 255, 255, 0.3) 80%,
                    transparent 100%);
            margin: 0;
        }

        /* Immersive Section Backgrounds */
        #servizi {
            background: linear-gradient(180deg, var(--bg) 0%, #0a0a0a 50%, var(--bg2) 100%);
            position: relative;
            padding-top: 100px;
        }

        #servizi::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 1px;
            height: 80px;
            background: linear-gradient(180deg, var(--accent), transparent);
        }

        #portfolio {
            background: linear-gradient(180deg, var(--bg2) 0%, #050505 50%, var(--bg) 100%);
            position: relative;
        }

        #portfolio::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 200px;
            background: radial-gradient(ellipse at 50% 0%, rgba(255, 255, 255, 0.05) 0%, transparent 70%);
            pointer-events: none;
        }

        #chisiamo {
            background: linear-gradient(180deg, var(--bg) 0%, #0f0f0f 50%, var(--bg2) 100%);
            position: relative;
        }

        footer {
            background: linear-gradient(180deg, var(--bg2) 0%, #030303 100%);
            position: relative;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
        }

        .hero-content {
            max-width: 1280px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .hero-tag {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
        }

        .hero-tag .dot {
            width: 12px;
            height: 12px;
            background: var(--accent);
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
            box-shadow: 0 0 20px var(--accent-glow);
        }

        .hero-tag span {
            font-family: "JetBrains Mono", monospace;
            font-size: 12px;
            color: rgba(255, 255, 255, .5);
            text-transform: uppercase;
            letter-spacing: 0.3em;
        }

        .hero-title {
            font-family: "Syncopate", sans-serif;
            font-size: clamp(48px, 12vw, 140px);
            font-weight: 700;
            line-height: 0.9;
            text-transform: uppercase;
            margin-bottom: 40px;
        }

        .hero-title span:first-child {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent2) 50%, var(--white) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 4px 8px rgba(255, 255, 255, 0.3));
        }

        .hero-title span:last-child {
            color: #fff;
            text-shadow: 0 0 60px rgba(255, 255, 255, 0.4);
        }

        .hero-title .outline {
            -webkit-text-stroke: 1px rgba(255, 255, 255, 0.15);
            -webkit-text-fill-color: transparent;
            opacity: 0.4;
        }

        .hero-desc {
            font-family: "JetBrains Mono", monospace;
            font-size: 14px;
            color: rgba(255, 255, 255, .6);
            max-width: 560px;
            line-height: 1.8;
            border-left: 2px solid rgba(255, 255, 255, .2);
            padding-left: 24px;
            margin-bottom: 48px;
        }

        .btn-group {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 16px 32px;
            font-family: "JetBrains Mono", monospace;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #fff;
            color: #000;
        }

        .btn-primary:hover {
            background: rgba(255, 255, 255, .9);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: transparent;
            color: #fff;
            border: 1px solid rgba(255, 255, 255, .3);
        }

        .btn-secondary:hover {
            border-color: #fff;
        }

        /* Services */
        #servizi {
            border-top: 1px solid rgba(255, 255, 255, .1);
        }

        .services-grid {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .service-card {
            display: grid;
            grid-template-columns: 80px 1fr auto;
            gap: 32px;
            align-items: center;
            padding: 40px;
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: var(--radius);
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            position: relative;
            overflow: hidden;
        }

        .service-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.08), transparent);
            transition: left 0.6s;
        }

        .service-card::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            width: 100%;
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            border-radius: 0 0 var(--radius) var(--radius);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.7s ease;
        }

        .service-card:hover {
            transform: translateY(-8px);
            border-color: var(--accent);
            box-shadow: 0 20px 60px rgba(255, 255, 255, 0.12), 0 0 40px rgba(255, 255, 255, 0.08);
        }

        .service-card:hover::before {
            left: 100%;
        }

        .service-card:hover::after {
            transform: scaleX(1);
        }

        .service-card:hover h3 {
            background: linear-gradient(to bottom, #FFFFFF 0%, #E0E0E0 40%, #888888 50%, #E0E0E0 60%, #FFFFFF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .service-num {
            font-family: "JetBrains Mono", monospace;
            font-size: 24px;
            color: var(--accent);
            opacity: 0.6;
            font-weight: 600;
        }

        .service-card:hover {
            background: rgba(255, 255, 255, .05);
            border-color: rgba(255, 255, 255, .2);
            box-shadow: 0 0 40px rgba(255, 255, 255, 0.05);
        }

        .service-card:hover::after {
            transform: scaleX(1);
        }

        .service-card:hover h3 {
            background: linear-gradient(135deg, #fff, #aaa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .service-num {
            font-family: "JetBrains Mono", monospace;
            font-size: 20px;
            color: rgba(255, 255, 255, .3);
        }

        .service-content h3 {
            font-family: "Syncopate", sans-serif;
            font-size: 24px;
            margin-bottom: 12px;
        }

        .service-content p {
            font-size: 14px;
            color: rgba(255, 255, 255, .5);
            line-height: 1.6;
        }

        .service-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag {
            padding: 6px 12px;
            font-family: "JetBrains Mono", monospace;
            font-size: 10px;
            text-transform: uppercase;
            border: 1px solid rgba(255, 255, 255, .2);
            color: rgba(255, 255, 255, .6);
        }

        /* Portfolio */
        #portfolio {
            background: #000;
            border-top: 1px solid rgba(255, 255, 255, .1);
        }

        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 40px;
        }

        .portfolio-item {
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .portfolio-item img {
            width: 100%;
            aspect-ratio: 16/9;
            object-fit: cover;
            filter: grayscale(1);
            transition: all 0.6s;
        }

        .portfolio-item:hover img {
            filter: grayscale(0);
            transform: scale(1.05);
        }

        .portfolio-info {
            padding: 20px 0;
            display: flex;
            justify-content: space-between;
            border-bottom: 1px solid rgba(255, 255, 255, .2);
        }

        .portfolio-info h4 {
            font-family: "Syncopate", sans-serif;
            font-size: 18px;
        }

        .portfolio-info span {
            font-family: "JetBrains Mono", monospace;
            font-size: 11px;
            color: rgba(255, 255, 255, .5);
            text-transform: uppercase;
        }

        /* About */
        #chisiamo {
            border-top: 1px solid rgba(255, 255, 255, .1);
        }

        .about-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: center;
        }

        .about-text p {
            font-size: 15px;
            color: rgba(255, 255, 255, .6);
            line-height: 1.8;
            margin-bottom: 40px;
        }

        .team {
            border-left: 1px solid rgba(255, 255, 255, .2);
            padding-left: 32px;
        }

        .team-member {
            margin-bottom: 24px;
        }

        .team-member h4 {
            font-family: "Syncopate", sans-serif;
            font-size: 18px;
        }

        .team-member span {
            font-family: "JetBrains Mono", monospace;
            font-size: 11px;
            color: rgba(255, 255, 255, .5);
            text-transform: uppercase;
        }

        .about-image {
            position: relative;
            aspect-ratio: 1;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, .1);
        }

        .about-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: grayscale(1);
            opacity: 0.6;
            transition: all 0.6s;
        }

        .about-image:hover img {
            opacity: 1;
        }

        /* Footer */
        footer {
            border-top: 1px solid rgba(255, 255, 255, .1);
            background: #000;
            padding: 80px 24px 40px;
        }

        .footer-content {
            max-width: 1280px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            margin-bottom: 60px;
        }

        .footer-cta h2 {
            font-family: "Syncopate", sans-serif;
            font-size: clamp(40px, 8vw, 80px);
            font-weight: 700;
            line-height: 0.9;
            margin-bottom: 32px;
        }

        .footer-cta .outline {
            -webkit-text-stroke: 1px #fff;
            -webkit-text-fill-color: transparent;
        }

        .footer-contact {
            text-align: right;
            font-family: "JetBrains Mono", monospace;
            font-size: 14px;
            color: rgba(255, 255, 255, .5);
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            gap: 8px;
        }

        .footer-bottom {
            max-width: 1280px;
            margin: 0 auto;
            padding-top: 24px;
            border-top: 1px solid rgba(255, 255, 255, .1);
            display: flex;
            justify-content: space-between;
            font-family: "JetBrains Mono", monospace;
            font-size: 10px;
            color: rgba(255, 255, 255, .4);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .footer-links {
            display: flex;
            gap: 24px;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .section {
                padding: 60px 20px;
            }

            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }

            .section-title {
                font-size: clamp(48px, 12vw, 120px);
            }

            /* Hero Mobile - Stack vertically */
            #hero {
                display: flex;
                flex-direction: column;
                min-height: auto;
                padding: 0;
            }

            #hero #container {
                position: relative;
                width: 100%;
                height: 50vh;
                min-height: 300px;
                order: 1;
            }

            #hero .hero-content {
                padding: 40px 24px 60px;
                max-width: 100%;
                margin: 0;
                background: linear-gradient(180deg, rgba(0, 0, 0, 0.95) 0%, #000 100%);
                text-align: center;
            }

            #hero .hero-tag {
                justify-content: center;
            }

            #hero .hero-title {
                font-size: clamp(28px, 9vw, 56px);
                text-align: center;
            }

            .hero-desc {
                font-size: 13px;
                padding-left: 0;
                border-left: none;
                text-align: center;
                max-width: 100%;
            }

            /* Hide side decorations on mobile */
            .side-decoration-left,
            .side-decoration-right,
            .scan-line {
                display: none;
            }

            .scroll-indicator {
                position: relative;
                padding: 20px 0;
            }

            .btn-group {
                flex-direction: column;
                width: 100%;
            }

            .btn-glow {
                width: 100%;
                text-align: center;
            }

            .service-card {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 24px;
            }

            .service-num {
                font-size: 18px;
            }

            .service-content h3 {
                font-size: 18px;
            }

            .service-tags {
                justify-content: flex-start;
            }

            .portfolio-grid {
                grid-template-columns: 1fr;
                gap: 24px;
            }

            .about-grid {
                grid-template-columns: 1fr;
                gap: 40px;
            }

            .footer-content {
                grid-template-columns: 1fr;
                gap: 40px;
            }

            .footer-cta h2 {
                font-size: clamp(32px, 8vw, 60px);
            }

            .footer-contact {
                text-align: left;
            }

            .footer-bottom {
                flex-direction: column;
                gap: 16px;
                text-align: center;
            }

            .footer-links {
                justify-content: center;
            }

            /* Hide decorative elements on mobile */
            .orb {
                display: none;
            }

            .section-separator {
                margin-bottom: 40px;
            }
        }

        /* Small mobile */
        @media (max-width: 480px) {
            .hero-title {
                font-size: clamp(28px, 12vw, 48px);
            }

            .service-card {
                padding: 20px;
            }

            .tag {
                font-size: 9px;
                padding: 6px 12px;
            }
        }

        /* Mobile: Full-screen 3D animation */
        @media (max-width: 768px) {
            #hero {
                display: block;
                position: relative;
                min-height: 100vh;
                min-height: var(--stable-vh, 100svh);
                /* Mobile viewport fix */
                overflow: hidden;
            }

            #hero #container {
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                width: 100% !important;
                height: 100% !important;
                z-index: 1;
            }

            #hero .hero-content {
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                padding: 60px 20px 20px 20px;
                z-index: 10;
                background: linear-gradient(180deg, rgba(0, 0, 0, 0.7) 0%, transparent 100%);
                pointer-events: none;
            }

            #hero .hero-content * {
                pointer-events: auto;
            }

            .hero-tag {
                margin-bottom: 16px;
            }

            .hero-desc {
                display: none;
            }

            .cta-buttons {
                flex-direction: column;
                gap: 12px;
            }

            .side-decoration-left,
            .side-decoration-right {
                display: none;
            }
        }

        /* Touch interaction fix - allow vertical scroll on mobile */
        #hero {
            touch-action: pan-y;
        }

        /* ========================================
           NAVBAR STYLES
        ======================================== */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 40px;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }

        .nav-logo {
            font-family: "Syncopate", sans-serif;
            font-size: 16px;
            font-weight: 700;
            color: #fff;
            text-decoration: none;
            letter-spacing: 0.1em;
        }

        .nav-links {
            display: flex;
            gap: 32px;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .nav-links a {
            font-family: "JetBrains Mono", monospace;
            font-size: 11px;
            color: rgba(255, 255, 255, 0.6);
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            transition: color 0.3s;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--accent);
            transition: width 0.3s;
        }

        .nav-links a:hover {
            color: #fff;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .nav-toggle {
            display: none;
            flex-direction: column;
            gap: 5px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
        }

        .nav-toggle span {
            display: block;
            width: 24px;
            height: 2px;
            background: #fff;
            transition: all 0.3s;
        }

        /* ========================================
           ANIMATION SECTION WITH HUD FRAME
        ======================================== */
        #animation-section {
            position: relative;
            width: 100%;
            height: 100vh;
            min-height: 700px;
            overflow: hidden;
            background: var(--bg);
            margin-top: 0;
            touch-action: pan-y;
            /* Smooth scroll transition */
            scroll-margin-top: 0;
        }

        #animation-container {
            position: absolute;
            inset: 0;
            z-index: 0;
            touch-action: pan-y;
            /* Allow vertical scroll on mobile */
        }

        #animation-container canvas {
            touch-action: pan-y !important;
            /* Force scroll on canvas */
        }

        /* HUD Sheet Overlay */
        .hud-sheet {
            position: absolute;
            inset: 0;
            z-index: 2;
            pointer-events: none;
            /* Full screen with subtle radial gradient like other sections */
            background:
                radial-gradient(ellipse 80% 50% at 50% 0%, rgba(0, 100, 150, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse 60% 40% at 80% 100%, rgba(150, 150, 150, 0.06) 0%, transparent 50%);
            overflow: hidden;
        }

        /* Subtle animated glow instead of grid */
        .hud-sheet::before {
            content: "";
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            opacity: 0.6;
        }

        .hud-sheet::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(150, 150, 150, 0.3), transparent);
            opacity: 0.6;
        }

        /* Crosshair corners */
        .hud-corner {
            position: absolute;
            width: 34px;
            height: 34px;
            opacity: 0.75;
        }

        .hud-corner::before,
        .hud-corner::after {
            content: "";
            position: absolute;
            background: rgba(255, 255, 255, 0.14);
        }

        .hud-corner::before {
            width: 1px;
            height: 100%;
            left: 0;
            top: 0;
        }

        .hud-corner::after {
            height: 1px;
            width: 100%;
            left: 0;
            top: 0;
        }

        .hud-corner.tl {
            left: 12px;
            top: 12px;
        }

        .hud-corner.tr {
            right: 12px;
            top: 12px;
            transform: rotate(90deg);
        }

        .hud-corner.bl {
            left: 12px;
            bottom: 12px;
            transform: rotate(270deg);
        }

        .hud-corner.br {
            right: 12px;
            bottom: 12px;
            transform: rotate(180deg);
        }

        /* HUD Content */
        .hud-content {
            position: absolute;
            inset: 0;
            padding: 100px 24px 80px 24px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            /* Align with other sections like SERVIZI */
            max-width: 1280px;
            margin: 0 auto;
            left: 0;
            right: 0;
        }

        .hud-top {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .hud-title-block {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .hud-kicker {
            font-family: "JetBrains Mono", monospace;
            font-size: 11px;
            letter-spacing: 0.18em;
            text-transform: uppercase;
            color: var(--accent);
            opacity: 0.7;
        }

        .hud-title {
            font-family: "Syncopate", sans-serif;
            font-weight: 700;
            font-size: clamp(42px, 10vw, 100px);
            line-height: 1.0;
            background: linear-gradient(to bottom, #FFFFFF 0%, #E0E0E0 40%, #888888 50%, #E0E0E0 60%, #FFFFFF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-transform: uppercase;
        }

        .hud-sub {
            font-family: "Syncopate", sans-serif;
            font-size: 14px;
            font-weight: 400;
            color: rgba(255, 255, 255, 0.6);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }


        .hud-bottom {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        /* CTA Buttons in HUD - Centered */
        .hud-cta-buttons {
            display: flex;
            gap: 16px;
            pointer-events: auto;
            justify-content: center;
        }

        .hud-cta-buttons .btn-glow {
            padding: 14px 28px;
            font-size: 11px;
        }

        .hud-notes {
            display: flex;
            gap: 24px;
            justify-content: center;
            flex-wrap: wrap;
        }

        @media (max-width: 768px) {
            .hud-bottom {
                gap: 16px;
            }

            .hud-cta-buttons {
                flex-direction: column;
                gap: 10px;
                width: 100%;
                max-width: 280px;
            }

            .hud-cta-buttons .btn-glow {
                padding: 12px 20px;
                font-size: 10px;
                width: 100%;
            }

            .hud-notes {
                gap: 12px;
            }
        }

        .hud-note-line {
            font-family: "JetBrains Mono", monospace;
            font-size: 11px;
            color: rgba(255, 255, 255, 0.42);
            letter-spacing: 0.05em;
        }

        .hud-note-line span {
            color: rgba(255, 255, 255, 0.65);
        }

        /* Scroll indicator for animation section */
        .anim-scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            text-align: center;
        }

        /* Hide scroll indicator on mobile to avoid overlap with buttons */
        @media (max-width: 768px) {
            .anim-scroll-indicator {
                display: none;
            }
        }

        .anim-scroll-indicator span {
            font-family: "JetBrains Mono", monospace;
            font-size: 10px;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.3em;
        }

        .anim-scroll-indicator .arrow {
            display: block;
            margin-top: 8px;
            font-size: 18px;
            animation: bounce 2s ease-in-out infinite;
            /* Override corrupted text with CSS */
            font-size: 0;
        }

        .anim-scroll-indicator .arrow::after {
            content: "?";
            font-size: 18px;
        }

        /* ========================================
           MOBILE RESPONSIVE - NAVBAR
        ======================================== */
        @media (max-width: 768px) {
            .navbar {
                padding: 12px 20px;
            }

            .nav-logo {
                font-size: 14px;
            }

            .nav-links {
                position: fixed;
                top: 56px;
                left: 0;
                right: 0;
                flex-direction: column;
                gap: 0;
                background: rgba(0, 0, 0, 0.95);
                backdrop-filter: blur(20px);
                padding: 0;
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.3s ease;
            }

            .nav-links.active {
                max-height: 300px;
            }

            .nav-links li {
                border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            }

            .nav-links a {
                display: block;
                padding: 16px 20px;
                font-size: 12px;
            }

            .nav-links a::after {
                display: none;
            }

            .nav-toggle {
                display: flex;
            }

            .nav-toggle.active span:nth-child(1) {
                transform: rotate(45deg) translate(5px, 5px);
            }

            .nav-toggle.active span:nth-child(2) {
                opacity: 0;
            }

            .nav-toggle.active span:nth-child(3) {
                transform: rotate(-45deg) translate(5px, -5px);
            }

            /* Animation section mobile */
            #animation-section {
                height: 70vh;
                min-height: 400px;
                margin-top: 56px;
            }

            .hud-sheet {
                width: 96%;
                height: 96%;
            }

            .hud-content {
                padding: 16px;
            }

            .hud-title {
                font-size: clamp(42px, 10vw, 100px);
            }

            .hud-kicker,
            .hud-sub,
            .hud-note-line {
                font-size: 10px;
            }

            .hud-corner {
                width: 24px;
                height: 24px;
            }

            .hud-notes {
                display: none;
            }

            /* Adjust hero for navbar offset */
            #hero {
                padding-top: 0;
            }
        }

        @media (max-width: 480px) {
            .hud-title {
                font-size: clamp(42px, 10vw, 100px);
            }

            .hud-top {
                flex-direction: column;
                gap: 12px;
            }

            #animation-section {
                height: 60vh;
                min-height: 350px;
            }
        }
    
        /* ========================================
           HERO LAYOUT - TITLE LEFT, ANIMATION RIGHT
        ======================================== */
        
        .hud-content {
            position: absolute;
            inset: 0;
            padding: 100px 40px 80px 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            max-width: 50%;
            margin: 0;
            left: 0;
            right: auto;
            z-index: 20;
            background: linear-gradient(90deg, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.7) 70%, transparent 100%);
        }

        .hud-top {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .hud-title-block {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .hud-title {
            font-family: "Syncopate", sans-serif;
            font-weight: 700;
            font-size: clamp(32px, 6vw, 72px) !important;
            line-height: 1.15;
            text-transform: uppercase;
        }

        /* First line - Chrome metallic */
        .hud-title-line1 {
            display: block;
            background: linear-gradient(180deg, #FFFFFF 0%, #A8A8A8 50%, #FFFFFF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0px 4px 15px rgba(255,255,255,0.3));
        }

        /* Second line - Outline style */
        .hud-title-line2 {
            display: block;
            color: transparent;
            -webkit-text-stroke: 1.5px rgba(255, 255, 255, 0.5);
            filter: drop-shadow(0px 0px 20px rgba(255,255,255,0.2));
        }

        /* Third line - Pure white glow */
        .hud-title-line3 {
            display: block;
            color: #FFFFFF;
            text-shadow: 0 0 20px rgba(255,255,255,0.6), 0 0 40px rgba(255,255,255,0.3);
        }

        .hud-sub {
            font-family: "Space Mono", monospace;
            font-size: clamp(10px, 1.5vw, 14px);
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.3em;
        }

        /* MOBILE LAYOUT - Stack vertically, title on top */
        @media (max-width: 768px) {
            .hud-content {
                max-width: 100%;
                padding: 80px 24px 40px 24px;
                background: linear-gradient(180deg, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.8) 60%, transparent 100%);
                justify-content: flex-start;
                height: auto;
                position: relative;
            }

            .hud-title {
                font-size: clamp(24px, 7vw, 48px) !important;
            }

            #animation-section {
                display: flex;
                flex-direction: column;
            }

            #animation-container {
                position: relative !important;
                height: 50vh !important;
                min-height: 300px;
                order: 2;
            }

            .hud-sheet {
                position: relative !important;
                order: 1;
                height: auto !important;
            }
        }

    
        /* Enhanced Section Titles */
        .section-title {
            font-size: clamp(48px, 12vw, 140px) !important;
            letter-spacing: 0.05em;
            margin-bottom: 24px;
        }

        .section-title.text-chrome {
            filter: drop-shadow(0px 8px 20px rgba(0,0,0,0.9)) drop-shadow(0px 0px 60px rgba(255,255,255,0.2));
        }

        .section-title.text-silver {
            filter: drop-shadow(0px 6px 15px rgba(0,0,0,0.8));
        }

        .section-title.text-glow {
            filter: drop-shadow(0px 0px 40px rgba(255,255,255,0.4));
        }

        /* Service card titles with subtle gradient */
        .service-content h3 {
            font-size: clamp(20px, 3vw, 32px);
            background: linear-gradient(90deg, #FFFFFF 0%, #CCCCCC 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Portfolio titles with edge glow */
        .portfolio-info h4 {
            font-size: clamp(18px, 3vw, 28px);
            color: #FFFFFF;
            text-shadow: 0 0 15px rgba(255,255,255,0.3);
        }

        /* Footer CTA - dramatic styling */
        .footer-cta h2 {
            font-size: clamp(48px, 10vw, 100px) !important;
        }

        .footer-cta h2 .outline {
            -webkit-text-stroke: 2px rgba(255, 255, 255, 0.7);
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0px 0px 30px rgba(255,255,255,0.2));
        }

    
        /* ========================================
           BORDER GLOW CARDS - FUTURISTIC STYLE
        ======================================== */
        .border-glow {
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.05);
            transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
            position: relative;
            overflow: hidden;
        }
        
        .border-glow:hover {
            border-color: rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.02);
        }
        
        /* Corner Accents */
        .border-glow::before, .border-glow::after {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            border: 1px solid transparent;
            transition: all 0.3s;
        }
        
        .border-glow:hover::before {
            top: 0;
            left: 0;
            border-top-color: #fff;
            border-left-color: #fff;
        }
        
        .border-glow:hover::after {
            bottom: 0;
            right: 0;
            border-bottom-color: #fff;
            border-right-color: #fff;
        }

        /* Service Card Layout */
        .service-card-new {
            background: rgba(0, 0, 0, 0.8);
        }

        .service-card-new .card-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 24px;
            align-items: center;
            padding: 32px 40px;
        }

        @media (min-width: 768px) {
            .service-card-new .card-grid {
                grid-template-columns: 80px 1fr auto;
                gap: 32px;
            }
        }

        .service-card-new .index-icon {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 16px;
            padding-right: 24px;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .service-card-new .service-num {
            font-family: "JetBrains Mono", monospace;
            font-size: 20px;
            color: rgba(255, 255, 255, 0.3);
        }

        .service-card-new .service-icon {
            width: 32px;
            height: 32px;
            color: #fff;
            transition: transform 0.5s;
        }

        .service-card-new:hover .service-icon {
            transform: scale(1.1);
        }

        .service-card-new .content h3 {
            font-family: "Syncopate", sans-serif;
            font-size: clamp(18px, 3vw, 28px);
            color: #fff;
            margin-bottom: 12px;
            transition: all 0.3s;
        }

        .service-card-new:hover .content h3 {
            background: linear-gradient(180deg, #FFFFFF 0%, #A8A8A8 50%, #FFFFFF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .service-card-new .content p {
            font-family: "JetBrains Mono", monospace;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
            line-height: 1.7;
            max-width: 500px;
        }

        .service-card-new .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: flex-start;
        }

        @media (min-width: 768px) {
            .service-card-new .tags {
                justify-content: flex-end;
            }
        }

        .service-card-new .tag {
            padding: 6px 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            font-family: "JetBrains Mono", monospace;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            color: rgba(255, 255, 255, 0.5);
            transition: all 0.3s;
        }

        .service-card-new .tag:hover {
            border-color: #fff;
            color: #fff;
        }

        /* Progress bar on hover */
        .service-card-new .progress-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 2px;
            background: #fff;
            width: 100%;
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.7s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .service-card-new:hover .progress-bar {
            transform: scaleX(1);
        }

        /* AI Director Card */
        .ai-director-card {
            padding: 48px;
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.2);
            display: flex;
            flex-direction: column;
            gap: 24px;
            text-align: center;
            cursor: pointer;
        }

        @media (min-width: 768px) {
            .ai-director-card {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                text-align: left;
            }
        }

        .ai-director-card .bg-sweep {
            position: absolute;
            inset: 0;
            background: rgba(255, 255, 255, 0.05);
            transform: translateY(100%);
            transition: transform 0.5s;
        }

        .ai-director-card:hover .bg-sweep {
            transform: translateY(0);
        }

        .ai-director-card h3 {
            font-family: "Syncopate", sans-serif;
            font-size: clamp(24px, 4vw, 32px);
            color: #fff;
            margin-bottom: 8px;
        }

        .ai-director-card p {
            font-family: "JetBrains Mono", monospace;
            font-size: 11px;
            color: rgba(255, 255, 255, 0.5);
        }

        .ai-director-card .hex-btn {
            width: 64px;
            height: 64px;
            border: 1px solid #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            animation: pulse 2s ease-in-out infinite;
        }

        .ai-director-card:hover .hex-btn {
            background: #fff;
            color: #000;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

    
        /* ========================================
           MOBILE OPTIMIZATION - ALL DEVICES
           Android, iPhone, iPad, tablets
        ======================================== */

        /* Base Mobile Fixes */
        @media (max-width: 768px) {
            /* Disable heavy animations on mobile for performance */
            #servizi::after, #portfolio::after, #chisiamo::after {
                animation: none !important;
                opacity: 0.1;
            }

            /* Touch-friendly tap targets (min 44px) */
            .tag, .btn-glow, .hex-btn, button {
                min-height: 44px;
                min-width: 44px;
            }

            /* Larger text for readability */
            .service-card-new .content p,
            .hero-desc, .about-text p {
                font-size: 14px !important;
                line-height: 1.8 !important;
            }

            /* Stack service cards vertically */
            .service-card-new .card-grid {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
                padding: 24px !important;
            }

            .service-card-new .index-icon {
                flex-direction: row !important;
                border-right: none !important;
                border-bottom: 1px solid rgba(255,255,255,0.1) !important;
                padding-bottom: 16px !important;
                padding-right: 0 !important;
            }

            .service-card-new .tags {
                justify-content: flex-start !important;
            }

            /* Section title sizing */
            .section-title {
                font-size: clamp(32px, 10vw, 60px) !important;
            }

            /* Hero title mobile */
            .hud-title {
                font-size: clamp(24px, 7vw, 48px) !important;
            }

            /* Footer mobile */
            .footer-content {
                grid-template-columns: 1fr !important;
                gap: 40px !important;
                text-align: center;
            }

            .footer-contact {
                text-align: center !important;
            }

            .footer-cta h2 {
                font-size: clamp(36px, 12vw, 64px) !important;
            }
        }

        /* Small phones (iPhone SE, older Androids) */
        @media (max-width: 375px) {
            .section {
                padding: 40px 16px !important;
            }

            .section-title {
                font-size: clamp(24px, 9vw, 40px) !important;
            }

            .hud-title {
                font-size: clamp(20px, 6vw, 36px) !important;
            }

            .service-card-new .content h3 {
                font-size: 16px !important;
            }

            .tag {
                font-size: 9px !important;
                padding: 4px 8px !important;
            }
        }

        /* Tablets (iPad, Android tablets) */
        @media (min-width: 768px) and (max-width: 1024px) {
            .hud-content {
                max-width: 55% !important;
            }

            .section-title {
                font-size: clamp(40px, 8vw, 80px) !important;
            }

            .service-card-new .card-grid {
                grid-template-columns: 80px 1fr 150px !important;
            }
        }

        /* Landscape mobile orientation */
        @media (max-height: 500px) and (orientation: landscape) {
            #animation-section {
                min-height: 400px !important;
                height: 100vh !important;
            }

            .hud-content {
                padding-top: 60px !important;
                padding-bottom: 20px !important;
            }
        }

        /* High DPI displays (Retina, high-res Android) */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .chrome-line, .progress-bar {
                height: 1px;
                transform: scaleY(0.5);
            }
        }

        /* iOS Safari specific fixes */
        @supports (-webkit-touch-callout: none) {
            body {
                -webkit-overflow-scrolling: touch;
            }

            /* Prevent zoom on input focus */
            input, select, textarea {
                font-size: 16px !important;
            }
        }

        /* Android Chrome specific */
        @media screen and (-webkit-min-device-pixel-ratio: 0) {
            #animation-container canvas {
                touch-action: pan-y !important;
            }
        }

        /* Safe area for notched phones (iPhone X+, modern Android) */
        @supports (padding: max(0px)) {
            .navbar {
                padding-left: max(16px, env(safe-area-inset-left));
                padding-right: max(16px, env(safe-area-inset-right));
            }

            footer {
                padding-bottom: max(40px, env(safe-area-inset-bottom));
            }
        }

        /* Reduce motion for users who prefer it */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

    
        /* ========================================
           PORTFOLIO GRID - FULL SECTION LAYOUT
        ======================================== */
        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            width: 100%;
        }

        .portfolio-item {
            position: relative;
            overflow: hidden;
            cursor: pointer;
            border-radius: 4px;
        }

        .portfolio-item img {
            width: 100%;
            aspect-ratio: 16/9;
            object-fit: cover;
            filter: grayscale(1);
            transition: all 0.6s cubic-bezier(0.25, 1, 0.5, 1);
            border-radius: 4px;
        }

        .portfolio-item:hover img {
            filter: grayscale(0);
            transform: scale(1.03);
        }

        .portfolio-info {
            padding: 16px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.15);
        }

        .portfolio-info h4 {
            font-family: "Syncopate", sans-serif;
            font-size: clamp(14px, 2vw, 20px);
            color: #fff;
        }

        .portfolio-info span {
            font-family: "JetBrains Mono", monospace;
            font-size: 10px;
            color: rgba(255,255,255,0.5);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        /* Play button overlay */
        .portfolio-play {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.4s;
            background: rgba(0,0,0,0.3);
            border-radius: 4px;
        }

        .portfolio-item:hover .portfolio-play {
            opacity: 1;
        }

        .portfolio-play-btn {
            width: 56px;
            height: 56px;
            background: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s;
        }

        .portfolio-play-btn:hover {
            transform: scale(1.1);
        }

        .portfolio-play-btn svg {
            width: 20px;
            height: 20px;
            margin-left: 3px;
            color: #000;
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .portfolio-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }
        }

        @media (max-width: 480px) {
            .portfolio-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }
        }

    
        /* ========================================
           PORTFOLIO - FULL DENSITY GRID
        ======================================== */
        #portfolio {
            padding-bottom: 80px !important;
        }

        #portfolio .section-header {
            margin-bottom: 40px !important;
        }

        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px !important;
            width: 100%;
        }

        .portfolio-item {
            position: relative;
            overflow: hidden;
            cursor: pointer;
            border-radius: 3px;
            aspect-ratio: 16/10;
        }

        .portfolio-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: grayscale(0.8);
            transition: all 0.5s ease;
            border-radius: 3px;
        }

        .portfolio-item:hover img {
            filter: grayscale(0);
            transform: scale(1.05);
        }

        .portfolio-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.4s;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 16px;
            border-radius: 3px;
        }

        .portfolio-item:hover .portfolio-overlay {
            opacity: 1;
        }

        .portfolio-overlay h4 {
            font-family: "Syncopate", sans-serif;
            font-size: 14px;
            color: #fff;
            margin-bottom: 4px;
        }

        .portfolio-overlay span {
            font-family: "JetBrains Mono", monospace;
            font-size: 10px;
            color: rgba(255,255,255,0.6);
            text-transform: uppercase;
        }

        /* Mobile */
        @media (max-width: 768px) {
            .portfolio-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px !important;
            }
        }

        @media (max-width: 480px) {
            .portfolio-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 6px !important;
            }
            .portfolio-overlay h4 {
                font-size: 11px;
            }
        }

    
        /* ========================================
           FULL-WIDTH PORTFOLIO - EDGE TO EDGE
        ======================================== */
        #portfolio {
            padding: 0 !important;
            overflow: hidden;
        }

        #portfolio .section-header {
            padding: 80px 40px 40px 40px;
            max-width: none;
            margin: 0;
        }

        #portfolio .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 4px !important;
            width: 100%;
            padding: 0 !important;
            margin: 0 !important;
        }

        #portfolio .portfolio-item {
            border-radius: 0 !important;
            aspect-ratio: 16/9;
        }

        #portfolio .portfolio-item img {
            border-radius: 0 !important;
        }

        #portfolio .portfolio-overlay {
            border-radius: 0 !important;
        }

        @media (max-width: 768px) {
            #portfolio .portfolio-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 2px !important;
            }
        }

        /* ========================================
           CHROMATIC ANIMATED SECTION DIVIDERS
        ======================================== */
        .section-divider {
            position: relative;
            width: 100%;
            height: 3px;
            background: #000;
            overflow: hidden;
        }

        .section-divider::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent 0%,
                #ff0080 10%,
                #ff00ff 20%,
                #8000ff 30%,
                #0080ff 40%,
                #00ffff 50%,
                #00ff80 60%,
                #80ff00 70%,
                #ffff00 80%,
                #ff8000 90%,
                #ff0000 100%
            );
            animation: chromaSweep 4s ease-in-out infinite;
            filter: blur(1px);
        }

        .section-divider::after {
            content: '';
            position: absolute;
            top: -10px;
            left: -100%;
            width: 100%;
            height: 20px;
            background: linear-gradient(
                90deg,
                transparent 0%,
                rgba(255,0,128,0.3) 20%,
                rgba(0,255,255,0.4) 50%,
                rgba(128,0,255,0.3) 80%,
                transparent 100%
            );
            animation: chromaSweep 4s ease-in-out infinite;
            filter: blur(8px);
        }

        @keyframes chromaSweep {
            0% { left: -100%; }
            50% { left: 100%; }
            50.01% { left: -100%; }
            100% { left: -100%; }
        }

        /* ========================================
           REMOVE OLD UGLY GEOMETRIC SHAPES
        ======================================== */
        #servizi::after,
        #portfolio::after,
        #chisiamo::after {
            display: none !important;
        }

        /* ========================================
           PREMIUM HIGH-TECH BACKGROUNDS
        ======================================== */
        #servizi::before {
            content: '';
            position: absolute;
            inset: 0;
            background: 
                radial-gradient(ellipse 80% 50% at 10% 20%, rgba(255,255,255,0.03) 0%, transparent 50%),
                radial-gradient(ellipse 60% 40% at 90% 80%, rgba(255,255,255,0.02) 0%, transparent 50%),
                linear-gradient(180deg, rgba(0,0,0,1) 0%, rgba(5,5,10,1) 50%, rgba(0,0,0,1) 100%);
            pointer-events: none;
            z-index: 0;
        }

        #chisiamo::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                radial-gradient(circle 400px at 80% 30%, rgba(255,255,255,0.04) 0%, transparent 60%),
                radial-gradient(circle 300px at 20% 70%, rgba(255,255,255,0.03) 0%, transparent 50%),
                linear-gradient(180deg, #000 0%, #050508 50%, #000 100%);
            pointer-events: none;
            z-index: 0;
        }

    
        /* ========================================
           FASTER CHROMATIC DIVIDERS + STRONGER GLOW
        ======================================== */
        .section-divider {
            position: relative;
            width: 100%;
            height: 4px;
            background: #000;
            overflow: visible !important;
        }

        .section-divider::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent 0%,
                #ff0080 20%,
                #00ffff 50%,
                #80ff00 80%,
                transparent 100%
            );
            animation: chromaFast 1.5s linear infinite !important;
            filter: blur(0px);
        }

        .section-divider::after {
            content: '';
            position: absolute;
            top: -20px;
            left: -100%;
            width: 50%;
            height: 44px;
            background: linear-gradient(
                90deg,
                transparent 0%,
                rgba(255,0,128,0.6) 20%,
                rgba(0,255,255,0.8) 50%,
                rgba(128,255,0,0.6) 80%,
                transparent 100%
            );
            animation: chromaFast 1.5s linear infinite !important;
            filter: blur(15px);
        }

        @keyframes chromaFast {
            0% { left: -50%; }
            100% { left: 100%; }
        }

        /* ========================================
           PORTFOLIO TRULY FULLSCREEN
        ======================================== */
        #portfolio {
            padding: 0 !important;
            margin: 0 !important;
            width: 100vw !important;
            max-width: 100vw !important;
            margin-left: calc(-50vw + 50%) !important;
            overflow: hidden;
        }

        #portfolio > * {
            max-width: none !important;
            margin-left: 0 !important;
            margin-right: 0 !important;
        }

        #portfolio .section-header {
            max-width: none !important;
            width: 100%;
            padding: 80px 60px 50px 60px !important;
            margin: 0 !important;
        }

        #portfolio .portfolio-grid {
            width: 100% !important;
            max-width: none !important;
            padding: 0 !important;
            margin: 0 !important;
            gap: 3px !important;
        }

        /* ========================================
           HIGH-TECH ANIMATED BACKGROUNDS
        ======================================== */
        
        /* Animated scan lines */
        @keyframes scanLine {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100vh); }
        }

        @keyframes pulseGlow {
            0%, 100% { opacity: 0.02; transform: scale(1); }
            50% { opacity: 0.06; transform: scale(1.2); }
        }

        @keyframes floatSlow {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(3deg); }
        }

        #servizi {
            background: #000 !important;
        }

        #servizi::before {
            content: '' !important;
            position: absolute !important;
            inset: 0 !important;
            background: 
                repeating-linear-gradient(
                    0deg,
                    transparent 0px,
                    transparent 2px,
                    rgba(255,255,255,0.01) 2px,
                    rgba(255,255,255,0.01) 4px
                ),
                radial-gradient(ellipse 50% 30% at 80% 20%, rgba(255,255,255,0.04) 0%, transparent 60%),
                radial-gradient(ellipse 40% 40% at 20% 80%, rgba(255,255,255,0.03) 0%, transparent 50%) !important;
            pointer-events: none !important;
            z-index: 0 !important;
        }

        #chisiamo {
            background: #000 !important;
        }

        #chisiamo::before {
            content: '' !important;
            position: absolute !important;
            inset: 0 !important;
            background:
                radial-gradient(circle 500px at 70% 30%, rgba(255,255,255,0.03) 0%, transparent 50%),
                radial-gradient(circle 400px at 30% 70%, rgba(255,255,255,0.02) 0%, transparent 50%),
                linear-gradient(180deg, transparent 0%, rgba(255,255,255,0.01) 50%, transparent 100%) !important;
            animation: pulseGlow 8s ease-in-out infinite !important;
            pointer-events: none !important;
            z-index: 0 !important;
        }

        footer {
            background: #000 !important;
        }

    
        /* ========================================
           LIQUID CHROME GOLD - SUPERFLUID DIVIDERS
        ======================================== */
        .section-divider {
            position: relative;
            width: 100%;
            height: 6px;
            background: #000;
            overflow: visible !important;
            filter: contrast(20);
        }

        .section-divider::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 0;
            width: 100%;
            height: 22px;
            background: 
                radial-gradient(ellipse 8% 100% at 0% 50%, transparent 0%, transparent 100%),
                radial-gradient(ellipse 15% 200% at var(--pos1, 10%) 50%, 
                    #ffd700 0%, #fff8dc 30%, #daa520 60%, transparent 100%),
                radial-gradient(ellipse 12% 180% at var(--pos2, 30%) 50%, 
                    #ffffff 0%, #fffacd 40%, #ffd700 70%, transparent 100%),
                radial-gradient(ellipse 18% 220% at var(--pos3, 55%) 50%, 
                    #ffefd5 0%, #ffd700 35%, #b8860b 70%, transparent 100%),
                radial-gradient(ellipse 10% 160% at var(--pos4, 75%) 50%, 
                    #fff8dc 0%, #ffec8b 40%, #daa520 80%, transparent 100%),
                radial-gradient(ellipse 14% 190% at var(--pos5, 95%) 50%, 
                    #ffd700 0%, #ffffff 30%, #daa520 60%, transparent 100%);
            filter: blur(4px);
            animation: liquidFlow 3s ease-in-out infinite;
        }

        .section-divider::after {
            content: '';
            position: absolute;
            top: -25px;
            left: 0;
            width: 100%;
            height: 56px;
            background: 
                radial-gradient(ellipse 20% 100% at var(--glow1, 20%) 50%, 
                    rgba(255,215,0,0.5) 0%, transparent 70%),
                radial-gradient(ellipse 25% 100% at var(--glow2, 50%) 50%, 
                    rgba(255,255,255,0.4) 0%, transparent 60%),
                radial-gradient(ellipse 20% 100% at var(--glow3, 80%) 50%, 
                    rgba(255,215,0,0.5) 0%, transparent 70%);
            filter: blur(12px);
            animation: glowPulse 2s ease-in-out infinite alternate;
        }

        @keyframes liquidFlow {
            0% {
                --pos1: 5%;
                --pos2: 25%;
                --pos3: 50%;
                --pos4: 70%;
                --pos5: 90%;
            }
            25% {
                --pos1: 10%;
                --pos2: 35%;
                --pos3: 55%;
                --pos4: 75%;
                --pos5: 95%;
            }
            50% {
                --pos1: 15%;
                --pos2: 30%;
                --pos3: 60%;
                --pos4: 80%;
                --pos5: 92%;
            }
            75% {
                --pos1: 8%;
                --pos2: 28%;
                --pos3: 52%;
                --pos4: 72%;
                --pos5: 88%;
            }
            100% {
                --pos1: 5%;
                --pos2: 25%;
                --pos3: 50%;
                --pos4: 70%;
                --pos5: 90%;
            }
        }

        @keyframes glowPulse {
            0% {
                --glow1: 15%;
                --glow2: 45%;
                --glow3: 75%;
                opacity: 0.7;
            }
            100% {
                --glow1: 25%;
                --glow2: 55%;
                --glow3: 85%;
                opacity: 1;
            }
        }

        /* Fallback for browsers without CSS custom properties animation */
        @supports not (animation: liquidFlow 3s) {
            .section-divider::before {
                animation: liquidFallback 2s ease-in-out infinite;
            }
        }

        @keyframes liquidFallback {
            0%, 100% { 
                transform: scaleX(1) translateX(0); 
                opacity: 0.8;
            }
            50% { 
                transform: scaleX(1.02) translateX(1%); 
                opacity: 1;
            }
        }

    
        /* ========================================
           TRUE FLUID DIVIDERS WITH HALATION
           No glow, pure liquid metal effect
        ======================================== */
        .section-divider {
            position: relative;
            width: 100%;
            height: 8px;
            background: #000;
            overflow: visible !important;
        }

        /* Main fluid body - liquid metal */
        .section-divider::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg,
                #000 0%,
                #1a1a1a 5%,
                #b8860b 15%,
                #ffd700 25%,
                #fffef0 35%,
                #ffd700 45%,
                #fff 50%,
                #ffd700 55%,
                #fffef0 65%,
                #ffd700 75%,
                #b8860b 85%,
                #1a1a1a 95%,
                #000 100%
            );
            background-size: 200% 100%;
            animation: fluidMove 4s ease-in-out infinite;
            mask: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 10' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0,5 Q25,2 50,5 T100,5 T150,5 T200,5' stroke='white' stroke-width='10' fill='none'/%3E%3C/svg%3E");
            mask-size: 50% 100%;
            mask-repeat: repeat-x;
        }

        /* Halation effect - chromatic aberration */
        .section-divider::after {
            content: '';
            position: absolute;
            top: -2px;
            left: 0;
            width: 100%;
            height: 12px;
            background: linear-gradient(90deg,
                transparent 0%,
                rgba(255,100,100,0.3) 20%,
                rgba(255,215,0,0.5) 35%,
                rgba(255,255,255,0.6) 50%,
                rgba(255,215,0,0.5) 65%,
                rgba(100,100,255,0.3) 80%,
                transparent 100%
            );
            background-size: 200% 100%;
            animation: fluidMove 4s ease-in-out infinite;
            filter: blur(3px);
            mix-blend-mode: screen;
        }

        @keyframes fluidMove {
            0% { background-position: 100% 0; }
            50% { background-position: 0% 0; }
            100% { background-position: 100% 0; }
        }

        /* Wave distortion overlay */
        .fluid-wave {
            position: absolute;
            top: -4px;
            left: 0;
            width: 100%;
            height: 16px;
            background: repeating-linear-gradient(90deg,
                transparent 0px,
                transparent 40px,
                rgba(255,255,255,0.1) 41px,
                transparent 42px
            );
            animation: waveShift 2s linear infinite;
        }

        @keyframes waveShift {
            0% { transform: translateX(0); }
            100% { transform: translateX(42px); }
        }

        /* ========================================
           CREATIVE SECTION BACKGROUNDS
        ======================================== */
        #servizi {
            background: radial-gradient(ellipse 100% 100% at 50% 0%, #0a0a0a 0%, #000 100%) !important;
        }

        #portfolio {
            background: #000 !important;
        }

        #chisiamo {
            background: radial-gradient(ellipse 80% 80% at 80% 20%, #080808 0%, #000 100%) !important;
        }

        /* Remove old background animations */
        #servizi::before,
        #chisiamo::before {
            content: none !important;
            display: none !important;
        }

    
        /* ========================================
           FULL HIGH-TECH GEOMETRIC BACKGROUNDS
        ======================================== */

        /* Animated circuit grid */
        @keyframes circuitPulse {
            0%, 100% { opacity: 0.03; }
            50% { opacity: 0.08; }
        }

        @keyframes dataStream {
            0% { background-position: 0 0; }
            100% { background-position: 0 100px; }
        }

        @keyframes hexRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(60deg); }
        }

        @keyframes matrixFall {
            0% { transform: translateY(-100%); opacity: 0; }
            10% { opacity: 0.1; }
            90% { opacity: 0.1; }
            100% { transform: translateY(100vh); opacity: 0; }
        }

        /* SERVIZI - Circuit Board Pattern */
        #servizi {
            background: 
                linear-gradient(90deg, transparent 49.5%, rgba(255,255,255,0.02) 49.5%, rgba(255,255,255,0.02) 50.5%, transparent 50.5%),
                linear-gradient(0deg, transparent 49.5%, rgba(255,255,255,0.02) 49.5%, rgba(255,255,255,0.02) 50.5%, transparent 50.5%),
                radial-gradient(circle 2px at 50% 50%, rgba(255,215,0,0.15) 0%, transparent 100%),
                #000 !important;
            background-size: 80px 80px, 80px 80px, 80px 80px, 100%;
            animation: circuitPulse 4s ease-in-out infinite;
        }

        /* Data nodes at intersections */
        #servizi::before {
            content: '' !important;
            position: absolute !important;
            inset: 0 !important;
            background-image: 
                radial-gradient(circle 3px at 0% 0%, rgba(255,215,0,0.2) 0%, transparent 100%),
                radial-gradient(circle 2px at 100% 100%, rgba(255,255,255,0.15) 0%, transparent 100%);
            background-size: 80px 80px;
            pointer-events: none !important;
            z-index: 0 !important;
            animation: circuitPulse 4s ease-in-out infinite reverse !important;
        }

        /* PORTFOLIO - Already fullscreen with videos */

        /* CHI SIAMO - Hexagonal Tech Grid */
        #chisiamo {
            background: #000 !important;
        }

        #chisiamo::before {
            content: '' !important;
            position: absolute !important;
            inset: 0 !important;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='52' viewBox='0 0 60 52' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0L60 15v22L30 52 0 37V15z' fill='none' stroke='rgba(255,215,0,0.04)' stroke-width='1'/%3E%3C/svg%3E");
            background-size: 60px 52px;
            pointer-events: none !important;
            z-index: 0 !important;
            opacity: 0.8;
        }

        #chisiamo::after {
            content: '' !important;
            position: absolute !important;
            top: 0 !important;
            left: 50% !important;
            width: 1px !important;
            height: 100% !important;
            background: linear-gradient(to bottom, transparent 0%, rgba(255,215,0,0.1) 20%, rgba(255,255,255,0.15) 50%, rgba(255,215,0,0.1) 80%, transparent 100%) !important;
            pointer-events: none !important;
            z-index: 0 !important;
        }

        /* FOOTER - Data Stream Effect */
        footer {
            background: 
                repeating-linear-gradient(
                    to bottom,
                    transparent 0px,
                    transparent 3px,
                    rgba(255,215,0,0.02) 3px,
                    rgba(255,215,0,0.02) 4px
                ),
                linear-gradient(180deg, #000 0%, #050505 100%) !important;
            background-size: 100% 100px, 100% 100%;
            animation: dataStream 8s linear infinite;
        }

        /* Floating geometric corners */
        .section::before {
            position: absolute !important;
            pointer-events: none !important;
            z-index: 0 !important;
        }

        /* Tech corner accents */
        #servizi .section-header::before,
        #chisiamo .section-header::before {
            content: '';
            position: absolute;
            top: 40px;
            right: 40px;
            width: 60px;
            height: 60px;
            border-top: 1px solid rgba(255,215,0,0.2);
            border-right: 1px solid rgba(255,215,0,0.2);
            pointer-events: none;
        }

        #servizi .section-header::after,
        #chisiamo .section-header::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 40px;
            width: 40px;
            height: 40px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            border-left: 1px solid rgba(255,255,255,0.1);
            pointer-events: none;
        }

    
        /* ========================================
           HIDE FLOATING ORBS - REMOVED
        ======================================== */
        .orb, .orb-1, .orb-2, .orb-3, .orb-4, .orb-5, .orb-6,
        .floating-orbs, .particle-canvas, canvas.particle-canvas {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
        }

        /* Hide floating geometric shapes too */
        #servizi::after,
        #portfolio::after,
        #chisiamo::after {
            display: none !important;
        }

    
        /* ========================================
           FIX SERVICES SECTION - CONTENT VISIBLE
        ======================================== */
        #servizi {
            background: #000 !important;
            position: relative !important;
        }

        #servizi::before,
        #servizi::after {
            display: none !important;
        }

        #servizi > * {
            position: relative !important;
            z-index: 10 !important;
        }

        #servizi .section-header,
        #servizi .border-glow,
        #servizi .service-card-new,
        #servizi .ai-director-card {
            position: relative !important;
            z-index: 10 !important;
            opacity: 1 !important;
            visibility: visible !important;
        }

    
        /* ========================================
           FORCE SERVICES SECTION VISIBLE
        ======================================== */
        #servizi,
        #servizi.section,
        section#servizi {
            opacity: 1 !important;
            visibility: visible !important;
            filter: none !important;
        }

    
        

    
        

    
        

    
        

    
        

    
        

    
        

    
        

    
        

    
        /* ========================================
           MOBILE - R AS MAIN ATTRACTION
        ======================================== */
        @media (max-width: 768px) {
            /* Title much smaller */
            .hud-title,
            .hud-title-line1,
            .hud-title-line2,
            .hud-title-line3 {
                font-size: 1.2rem !important;
                line-height: 1.1 !important;
            }
            
            /* Animation section takes most of the viewport */
            #animation-section {
                height: 80vh !important;
                min-height: 550px !important;
            }
            
            /* Title block smaller */
            .hud-title-block {
                max-width: 50% !important;
                padding: 10px !important;
            }
            
            /* Position title at top left corner */
            .hud-overlay {
                justify-content: flex-start !important;
                align-items: flex-start !important;
                padding: 60px 15px 15px 15px !important;
            }
            
            /* Scale up the canvas/3D scene */
            /* Remove unused r-animation classes */
            #animation-section .animation-container {
                transform: scale(1) !important;
                transform-origin: center center !important;
            }
        }

        @media (max-width: 480px) {
            .hud-title,
            .hud-title-line1,
            .hud-title-line2,
            .hud-title-line3 {
                font-size: 1rem !important;
            }
            
            #animation-section {
                height: 85vh !important;
            }
            
            #animation-section .animation-container {
                transform: scale(1) !important;
            }
        }

    
        

    
        

    
        

    
        

    
        
        /* ========================================
           FINAL MOBILE OPTIMIZATION (CONSOLIDATED)
        ======================================== */
        @media (max-width: 768px) {
            /* Performance: GPU acceleration */
            #animation-section, #animation-container {
                /* Disable translateZ to avoid unexpected scaling jumps */
                will-change: auto;
            }
            
            /* Hide heavy decorations */
            .chrome-shape, .floating-shapes, .orb, .floating-orbs {
                display: none !important;
            }
            
            /* Reduce blur on dividers */
            .section-divider::before {
                filter: blur(2px);
            }
            
            /* Simpler text sizes */
            .hud-title { font-size: 1.5rem; }
            .section-title { font-size: 2rem; }
            
            /* Portfolio single column */
            .portfolio-grid {
                grid-template-columns: 1fr !important;
            }
        }

    
        

        

/* ============================================
   CLEAN MOBILE LAYOUT - FROM SCRATCH
   Desktop: title left, R right (side-by-side)
   Mobile: title top small, R center big, buttons bottom
============================================ */
@media screen and (max-width: 768px) {
    /* Hero section - everything in one viewport */
    #animation-section,
    .animation-section {
        height: 100vh;
        min-height: 100vh;
        position: relative;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }
    
    /* Title block - top of screen, compact */
    .hud-overlay,
    .hud-content-wrapper {
        order: 1;
        position: relative;
        padding: 70px 15px 10px 15px;
        text-align: center;
        flex-shrink: 0;
    }
    
    .hud-title,
    .hud-title-line1,
    .hud-title-line2,
    .hud-title-line3 {
        font-size: 1.1rem !important;
        line-height: 1.2 !important;
        margin: 0;
    }
    
    .hud-content {
        font-size: 0.65rem;
        margin-top: 5px;
    }
    
    /* R Animation - center, takes most space */
    #animation-container,
    .animation-container {
        order: 2;
        flex: 1;
        position: relative;
        width: 100%;
        min-height: 300px;
    }
    
    /* CTA Buttons - bottom */
    .cta-buttons {
        order: 3;
        position: relative;
        padding: 10px 15px 30px 15px;
        display: flex;
        flex-direction: column;
        gap: 8px;
        flex-shrink: 0;
    }
    
    .cta-button {
        padding: 12px 25px;
        font-size: 0.75rem;
    }
    
    /* HIDE divider between hero and services */
    .section-divider {
        display: none !important;
    }
    
    /* Hide non-essential HUD elements */
    .hud-notes,
    .side-decoration,
    .hud-corner,
    .rec-badge {
        display: none !important;
    }
}

/* ============================================
   NEW MOBILE HERO DESIGN
   - R in rounded square with deep glow
   - Title stretched full width below
============================================ */
@media screen and (max-width: 768px) {
    /* Hero section layout */
    #animation-section {
        height: auto;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 80px 15px 30px 15px;
        gap: 20px;
    }
    
    /* R Animation Container - rounded with deep glow */
    #animation-container {
        width: 85vw;
        height: 85vw;
        max-width: 350px;
        max-height: 350px;
        border-radius: 30px;
        background: rgba(0, 0, 0, 0.8);
        box-shadow: 
            0 0 30px rgba(180, 160, 255, 0.4),
            0 0 60px rgba(100, 80, 200, 0.3),
            0 0 100px rgba(50, 30, 150, 0.2),
            inset 0 0 30px rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(180, 160, 255, 0.3);
        overflow: hidden;
        position: relative;
    }
    
    /* Title - stretched full width */
    .hud-title-block,
    .hud-overlay {
        width: 100%;
        text-align: center;
        order: 2;
    }
    
    .hud-title,
    .hud-title-line1,
    .hud-title-line2,
    .hud-title-line3 {
        font-size: clamp(0.9rem, 4vw, 1.3rem) !important;
        line-height: 1.3 !important;
        letter-spacing: 0.15em;
        text-transform: uppercase;
        width: 100%;
        display: block;
    }
    
    /* Hide extra HUD content */
    .hud-content,
    .hud-notes,
    .rec-badge,
    .side-decoration {
        display: none !important;
    }
    
    /* CTA Buttons */
    .cta-buttons {
        order: 3;
        width: 100%;
        display: flex;
        flex-direction: column;
        gap: 10px;
        padding: 0 10px;
    }
    
    .cta-button {
        width: 100%;
        padding: 14px 20px;
        font-size: 0.8rem;
        border-radius: 50px;
    }
    
    /* Hide divider */
    .section-divider {
        display: none !important;
    }
}

/* ============================================
   LUSION-INSPIRED MOBILE LAYOUT
   - Text on top, full width
   - Animation in big framed container
   - Atmospheric glow
============================================ */
@media screen and (max-width: 768px) {
    /* Hero section */
    #animation-section {
        height: 100vh;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        padding: 70px 20px 30px 20px;
        box-sizing: border-box;
    }
    
    /* Title text - TOP, full width, readable but compact */
    .hud-overlay,
    .hud-content-wrapper {
        order: 1;
        width: 100%;
        text-align: left;
        margin-bottom: 15px;
        flex-shrink: 0;
    }
    
    .hud-title,
    .hud-title-block {
        font-size: 1.4rem !important;
        line-height: 1.2 !important;
        letter-spacing: 0.05em;
        text-align: left;
        margin: 0;
    }
    
    .hud-title-line1,
    .hud-title-line2,
    .hud-title-line3 {
        font-size: inherit !important;
        display: block;
    }
    
    /* Animation container - Big framed box with glow */
    #animation-container {
        order: 2;
        flex: 1;
        width: 100%;
        min-height: 50vh;
        max-height: 60vh;
        border-radius: 24px;
        background: rgba(0, 5, 15, 0.9);
        box-shadow: 
            0 0 40px rgba(100, 120, 255, 0.25),
            0 0 80px rgba(60, 80, 180, 0.15),
            inset 0 0 40px rgba(80, 100, 200, 0.1);
        border: 1px solid rgba(120, 140, 255, 0.2);
        overflow: hidden;
        margin: 10px 0;
    }
    
    /* CTA Buttons bottom */
    .cta-buttons {
        order: 3;
        width: 100%;
        display: flex;
        flex-direction: column;
        gap: 10px;
        flex-shrink: 0;
        margin-top: auto;
    }
    
    .cta-button {
        width: 100%;
        padding: 14px;
        font-size: 0.8rem;
        border-radius: 50px;
        text-align: center;
    }
    
    /* Hide dividers and non-essential */
    .section-divider,
    .hud-notes,
    .hud-content,
    .rec-badge,
    .side-decoration {
        display: none !important;
    }
}

/* ENSURE TITLE IS VISIBLE ON MOBILE */
@media screen and (max-width: 768px) {
    .hud-title,
    .hud-title-block,
    .hud-title-line1,
    .hud-title-line2,
    .hud-title-line3 {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        font-size: 1.3rem !important;
        color: #ffffff !important;
    }
    
    .hud-overlay {
        display: block !important;
        visibility: visible !important;
    }
}

/* FIX SECTION WIDTH ON MOBILE */
@media screen and (max-width: 768px) {
    #animation-section {
        width: 100vw !important;
        max-width: 100vw !important;
        padding-left: 15px !important;
        padding-right: 15px !important;
        box-sizing: border-box !important;
        overflow-x: hidden !important;
    }
    
    body {
        overflow-x: hidden !important;
    }
    
    #animation-container {
        width: calc(100% - 10px) !important;
        max-width: 100% !important;
        margin: 0 auto !important;
    }
}

/* FIX: SHOW HUD-CONTENT ON MOBILE */
@media screen and (max-width: 768px) {
    .hud-content,
    .hud-sheet {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
}

/* ============================================
   HARMONIOUS MOBILE LAYOUT - DEDICATED
   Not scaled from desktop, built for mobile
============================================ */
@media screen and (max-width: 768px) {
    /* Hero section - full viewport, centered content */
    #animation-section {
        height: 100vh;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        padding: 70px 10px 20px 10px;
        gap: 15px;
        box-sizing: border-box;
    }
    
    /* Title section - FULL WIDTH, horizontal scroll if needed */
    .hud-content,
    .hud-sheet,
    .hud-overlay {
        width: 100% !important;
        max-width: 100vw !important;
        padding: 0 !important;
        margin: 0 !important;
        text-align: center !important;
    }
    
    /* Title text - single line or wrap nicely */
    .hud-title,
    .hud-title-block {
        font-size: 1rem !important;
        line-height: 1.3 !important;
        letter-spacing: 0.1em !important;
        white-space: normal !important;
        word-wrap: break-word !important;
        width: 100% !important;
        text-align: center !important;
    }
    
    .hud-title-line1,
    .hud-title-line2,
    .hud-title-line3 {
        display: inline !important;
        font-size: inherit !important;
    }
    
    /* R Animation container - BIGGER and CLOSER */
    #animation-container {
        width: 100% !important;
        height: 55vh !important;
        min-height: 300px !important;
        max-height: 450px !important;
        border-radius: 20px !important;
        margin: 0 !important;
    }
    
    /* Canvas should fill container */
    #animation-container canvas {
        width: 100% !important;
        height: 100% !important;
    }
    
    /* CTA Buttons - at bottom */
    .cta-buttons {
        width: 100% !important;
        padding: 0 10px !important;
        margin-top: auto !important;
    }
    
    .cta-button {
        width: 100% !important;
        padding: 14px !important;
        font-size: 0.8rem !important;
    }
    
    /* Hide REC badge and other HUD elements */
    .rec-badge,
    .hud-notes,
    .side-decoration,
    .hud-corner {
        display: none !important;
    }
}

/* ============================================
   MOBILE HERO FINAL STYLING
   - Title extends full width
   - R container with white luminous border
   - No deep glow, clean look
   - REC timer hidden
============================================ */
@media screen and (max-width: 768px) {
    /* Hide REC timer and all HUD extras */
    .rec-badge,
    .rec-indicator,
    [class*="rec"],
    .hud-timestamp,
    .hud-notes,
    .side-decoration,
    .hud-corner,
    .format-info {
        display: none !important;
    }
    
    /* Title - extend to edges */
    .hud-content,
    .hud-sheet,
    .hud-overlay,
    .hud-title-block {
        width: 100vw !important;
        max-width: 100vw !important;
        margin-left: -10px !important;
        padding: 0 15px !important;
    }
    
    /* R Animation container - white luminous border, no glow */
    #animation-container {
        background: rgba(0, 5, 15, 0.95) !important;
        border: 1.5px solid rgba(255, 255, 255, 0.6) !important;
        box-shadow: 
            0 0 15px rgba(255, 255, 255, 0.15),
            0 0 30px rgba(255, 255, 255, 0.08) !important;
        border-radius: 20px !important;
    }
}

/* FINAL MOBILE TWEAKS */
@media screen and (max-width: 768px) {
    /* Bigger, more harmonious title */
    .hud-title,
    .hud-title-block {
        font-size: 1.3rem !important;
        line-height: 1.25 !important;
        letter-spacing: 0.08em !important;
    }
    
    /* Tighter margins on animation container */
    #animation-container {
        margin-left: 15px !important;
        margin-right: 15px !important;
        width: calc(100% - 30px) !important;
    }
}

/* MOBILE TITLE - MATCH DESKTOP (NO GOLD) */
@media screen and (max-width: 768px) {
    .hud-title,
    .hud-title-block {
        font-size: 1.6rem !important;
        line-height: 1.2 !important;
        letter-spacing: 0.06em !important;
        background: none !important;
        -webkit-text-fill-color: inherit !important;
        color: #ffffff !important;
        text-shadow: none !important;
        filter: none !important;
    }
    
    .hud-title-line1 {
        background: linear-gradient(180deg, #FFFFFF 0%, #A8A8A8 50%, #FFFFFF 100%) !important;
        -webkit-background-clip: text !important;
        -webkit-text-fill-color: transparent !important;
        background-clip: text !important;
    }
    
    .hud-title-line2 {
        color: transparent !important;
        background: none !important;
        -webkit-text-stroke: 1.5px rgba(255, 255, 255, 0.5) !important;
        -webkit-text-fill-color: transparent !important;
    }
    
    .hud-title-line3 {
        color: #ffffff !important;
        text-shadow: 0 0 20px rgba(255,255,255,0.6), 0 0 40px rgba(255,255,255,0.3) !important;
    }
}

/* =====================================================
   MOBILE IMMERSION PROTOCOL v3.0 - FULLSCREEN EXPERIENCE
===================================================== */
@media screen and (max-width: 768px) {
    /* 1. FULLSCREEN MANDATE */
    #animation-section {
        width: 100% !important;
        height: var(--stable-vh, 100svh) !important;
        min-height: var(--stable-vh, 100svh) !important;
        margin: 0 !important;
        padding: 0 !important;
        position: relative !important;
        overflow: visible !important;
    }
    
    #animation-container {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
        border: none !important;
        border-radius: 0 !important;
        z-index: 0 !important;
    }
    
    canvas {
        width: 100% !important;
        height: 100% !important;
    }
    
    /* 2. HUD OVERLAY - Centered over animation */
    .hud-sheet {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        display: flex !important;
        flex-direction: column !important;
        justify-content: center !important;
        align-items: center !important;
        z-index: 1 !important;
        pointer-events: none !important;
        padding: 60px 20px 80px !important;
        box-sizing: border-box !important;
    }
    
    .hud-content {
        display: flex !important;
        flex-direction: column !important;
        justify-content: center !important;
        align-items: center !important;
        text-align: center !important;
        width: 100% !important;
        pointer-events: none !important;
    }
    
    /* 3. TEXT - Readable with clamp() */
    .hud-title,
    .hud-title-block {
        font-size: clamp(1rem, 5vw, 1.8rem) !important;
        text-align: center !important;
        width: 100% !important;
        line-height: 1.3 !important;
        text-shadow: 0 2px 20px rgba(0,0,0,0.8) !important;
        pointer-events: none !important;
        position: relative !important;
        left: auto !important;
        top: auto !important;
        transform: none !important;
    }
    
    /* 4. BUTTONS - Interactive layer */
    .hud-cta-buttons {
        display: flex !important;
        flex-direction: column !important;
        gap: 12px !important;
        margin-top: 30px !important;
        pointer-events: auto !important;
        z-index: 2 !important;
        position: relative !important;
    }
    
    .btn-glow {
        pointer-events: auto !important;
        padding: 12px 24px !important;
        font-size: clamp(0.7rem, 2.5vw, 0.9rem) !important;
    }
    
    /* 5. SCROLL PHYSICS */
    html, body {
        overflow-x: hidden !important;
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }
    
    #animation-section,
    #animation-container,
    canvas {
        touch-action: pan-y !important;
    }
    
    /* 6. HIDE decorative elements */
    .hud-divider,
    .section-divider,
    .hud-rec-pill,
    .hud-sub,
    .format-info,
    .hud-specs,
    .hud-notes,
    .hud-timestamp {
        display: none !important;
    }
}

/* FIX: Hide empty divider between hero and SERVIZI */
@media screen and (max-width: 768px) {
    .section-divider,
    .divider,
    #animation-section + section:empty,
    #animation-section + div:empty,
    .hero-divider {
        display: none !important;
        height: 0 !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    /* Remove gap after hero section */
    #animation-section {
        margin-bottom: 0 !important;
        padding-bottom: 0 !important;
    }
    
    /* Services section starts immediately */
    #services-section {
        margin-top: 0 !important;
        padding-top: 20px !important;
    }
}

/* FIX: Hero section height fits content, not full viewport */
@media screen and (max-width: 768px) {
    #animation-section {
        height: auto !important;
        min-height: auto !important;
        max-height: none !important;
        padding-bottom: 30px !important;
    }
    
    /* HUD sheet also fits content */
    .hud-sheet {
        height: auto !important;
        position: relative !important;
    }
}

/* FIX: Remove all gaps between hero and SERVIZI */
@media screen and (max-width: 768px) {
    .hud-sheet {
        padding-bottom: 20px !important;
    }
    
    #animation-section {
        padding-bottom: 0 !important;
        margin-bottom: 0 !important;
    }
    
    /* SERVIZI starts immediately */
    #services-section,
    section:has(h2) {
        margin-top: 0 !important;
        padding-top: 15px !important;
    }
}

/* FIX: Hero section has minimum height for animation visibility */
@media screen and (max-width: 768px) {
    #animation-section {
        min-height: 70vh !important;
        height: auto !important;
    }
    
    #animation-container {
        min-height: 250px !important;
    }
    
    /* Position animation behind content */
    .hud-sheet {
        display: flex !important;
        flex-direction: column !important;
        justify-content: space-between !important;
        padding-top: 60px !important;
        padding-bottom: 20px !important;
    }
}

/* FIX: SYNCHRONIZE ALL HERO ELEMENTS */
@media screen and (max-width: 768px) {
    /* Both containers share the same dimensions */
    #animation-section {
        position: relative !important;
        width: 100% !important;
        min-height: 70vh !important;
        height: auto !important;
        overflow: visible !important;
    }
    
    /* Animation container - fullscreen behind */
    #animation-container {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        width: 100% !important;
        height: 100% !important;
        margin: 0 !important;
        z-index: 0 !important;
    }
    
    /* HUD sheet - same dimensions as section */
    .hud-sheet {
        position: relative !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        min-height: 70vh !important;
        height: auto !important;
        margin: 0 !important;
        margin-left: 0 !important;
        z-index: 1 !important;
        display: flex !important;
        flex-direction: column !important;
        justify-content: center !important;
        align-items: center !important;
        padding: 60px 20px 20px !important;
        box-sizing: border-box !important;
    }
    
    /* Canvas fills container */
    canvas {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
    }
    
    /* Center all HUD content */
    .hud-content,
    .hud-title,
    .hud-title-block,
    .hud-cta-buttons {
        text-align: center !important;
        margin-left: auto !important;
        margin-right: auto !important;
        left: 0 !important;
        right: 0 !important;
    }
}

/* FULLSCREEN HERO ON ALL MOBILE DEVICES */
@media screen and (max-width: 768px) {
    /* Hero section fills entire viewport */
    #animation-section {
        width: 100% !important;
        height: var(--stable-vh, 100svh) !important;
        min-height: var(--stable-vh, 100svh) !important;
        max-height: var(--stable-vh, 100svh) !important;
        margin: 0 !important;
        padding: 0 !important;
        position: relative !important;
        overflow: hidden !important;
    }
    
    /* Animation container fills the entire section */
    #animation-container {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
        z-index: 0 !important;
    }
    
    /* Canvas fills container and centers animation */
    canvas {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
    }
    
    /* HUD sheet fills entire viewport, content centered */
    .hud-sheet {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        min-height: var(--stable-vh, 100svh) !important;
        margin: 0 !important;
        z-index: 1 !important;
        display: flex !important;
        flex-direction: column !important;
        justify-content: center !important;
        align-items: center !important;
        padding: 60px 20px !important;
        box-sizing: border-box !important;
        pointer-events: none !important;
    }
    
    /* Interactive elements */
    .hud-cta-buttons,
    .btn-glow {
        pointer-events: auto !important;
    }
}

/* REMOVE HEIGHT LIMITS - CENTER ANIMATION */
@media screen and (max-width: 768px) {
    #animation-container {
        max-height: none !important;
        min-height: 100% !important;
        height: 100% !important;
        display: flex !important;
        justify-content: center !important;
        align-items: center !important;
    }
    
    canvas {
        max-height: none !important;
        min-height: 100% !important;
    }
}

/* POSITION TITLE TOP, CTAs BOTTOM - ADAPTIVE */
@media screen and (max-width: 768px) {
    .hud-sheet {
        justify-content: space-between !important;
        padding-top: calc(var(--stable-vh, 100svh) * 0.15) !important;
        padding-bottom: calc(var(--stable-vh, 100svh) * 0.10) !important;
    }
    
    /* Title in upper portion */
    .hud-content {
        flex: 0 0 auto !important;
    }
    
    .hud-title,
    .hud-title-block {
        margin-bottom: 0 !important;
    }
    
    /* CTAs in lower portion */
    .hud-cta-buttons {
        flex: 0 0 auto !important;
        margin-top: auto !important;
    }
}

/* ABSOLUTE POSITIONING - TITLE TOP, CTAs BOTTOM */
@media screen and (max-width: 768px) {
    .hud-sheet {
        padding: 0 !important;
    }
    
    /* Title fixed at top area */
    .hud-content {
        position: absolute !important;
        top: calc(var(--stable-vh, 100svh) * 0.12) !important;
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        padding: 0 20px !important;
        box-sizing: border-box !important;
    }
    
    /* CTAs fixed at bottom area */
    .hud-cta-buttons {
        position: absolute !important;
        bottom: calc(var(--stable-vh, 100svh) * 0.12) !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
        top: auto !important;
        margin: 0 !important;
    }
}

/* FIX: Title stays at top, not centered */
@media screen and (max-width: 768px) {
    .hud-content {
        height: auto !important;
        min-height: auto !important;
        justify-content: flex-start !important;
        align-items: center !important;
    }
    
    .hud-title,
    .hud-title-block {
        margin: 0 !important;
        padding: 0 !important;
    }
}

/* TRANSPARENT HUD LAYER - ANIMATION SHOWS THROUGH */
@media screen and (max-width: 768px) {
    .hud-sheet,
    .hud-content,
    .hud-overlay {
        background: transparent !important;
        background-color: transparent !important;
    }
    
    /* Remove any pseudo-elements with backgrounds */
    .hud-sheet::before,
    .hud-sheet::after,
    .hud-content::before,
    .hud-content::after {
        display: none !important;
        background: none !important;
    }
}

/* ============================================
   FIX: MOBILE SCROLL JUMP/SCALINO
   Uses svh (stable) instead of dvh (dynamic)
   and locks height with CSS custom property
============================================ */
@media screen and (max-width: 768px) {
    :root {
        /* Fallback: use svh which is stable (doesn't change with address bar) */
        --stable-vh: 100svh;
    }
    
    /* Override ALL dvh declarations with svh */
    #animation-section {
        height: 100svh !important;
        height: var(--stable-vh, 100svh) !important;
        min-height: 100svh !important;
        min-height: var(--stable-vh, 100svh) !important;
        max-height: 100svh !important;
        max-height: var(--stable-vh, 100svh) !important;
        /* Prevent any resize during scroll */
        contain: strict;
    }
    
    #animation-container {
        height: 100% !important;
        min-height: 100% !important;
        max-height: 100% !important;
        /* Prevent layout shifts */
        contain: layout size;
    }
    
    .hud-sheet {
        height: 100% !important;
        min-height: 100% !important;
        max-height: 100% !important;
    }
    
    canvas {
        /* Lock canvas size to prevent jumps */
        height: 100% !important;
        max-height: 100% !important;
        min-height: 100% !important;
    }
    
    /* Prevent browser from recalculating on scroll */
    body {
        overflow-anchor: none;
    }
}

/* Additional fix for iOS Safari */
@supports (-webkit-touch-callout: none) {
    @media screen and (max-width: 768px) {
        #animation-section {
            height: var(--stable-vh, 100svh) !important;
            min-height: var(--stable-vh, 100svh) !important;
            max-height: var(--stable-vh, 100svh) !important;
        }
    }
}


/* =====================================================
   FINAL OVERRIDE - SERVICES SECTION FULL WIDTH
   This must be at the end to override all previous rules
   ===================================================== */

/* SERVIZI - Full viewport width */
#servizi,
#servizi.section,
section#servizi,
section.section.services-section {
    position: relative !important;
    overflow: hidden !important;
    width: 100% !important;
    max-width: none !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding: 80px 0 !important;
    background: #000 !important;
}

/* Override the .section > * max-width rule */
#servizi > *,
#servizi.section > *,
section#servizi > * {
    max-width: none !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
}

/* Hide pseudo-elements */
#servizi::before,
#servizi::after {
    display: none !important;
    content: none !important;
}

/* Animation background - full section coverage */
#servizi .services-bg,
#servizi #services-bg {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100% !important;
    height: 100% !important;
    z-index: 0 !important;
    pointer-events: none !important;
    opacity: 0.6 !important;
    overflow: hidden !important;
}

#servizi .services-bg canvas,
#servizi #services-bg canvas {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    display: block !important;
    object-fit: cover !important;
}

/* Content - centered within full-width section */
#servizi .services-content {
    position: relative !important;
    z-index: 1 !important;
    width: 100% !important;
    max-width: 1280px !important;
    margin: 0 auto !important;
    padding: 0 40px !important;
}

/* MOBILE */
@media screen and (max-width: 768px) {
    #servizi,
    #servizi.section,
    section#servizi {
        padding: 40px 0 !important;
    }
    
    #servizi .services-bg,
    #servizi #services-bg {
        opacity: 0.85 !important;
        filter: contrast(1.3) brightness(1.2) !important;
    }
    
    #servizi .services-content {
        padding: 0 20px !important;
    }
}

/* =====================================================
   FIX SCROLL JUMP ON ALL SECTIONS - MOBILE
   ===================================================== */
@media screen and (max-width: 768px) {
    /* Prevent scroll jump from address bar */
    html {
        overflow-x: hidden !important;
    }
    
    body {
        overflow-x: hidden !important;
        overflow-anchor: none !important;
    }
    
    /* All sections use stable height */
    .section {
        contain: layout style !important;
    }
}

/* FINAL MOBILE HERO OVERRIDE - lock single height to prevent scroll jump */
@media screen and (max-width: 768px) {
    #animation-section {
        height: var(--stable-vh, 100svh) !important;
        min-height: var(--stable-vh, 100svh) !important;
        max-height: var(--stable-vh, 100svh) !important;
    }

    #animation-container {
        height: 100% !important;
        min-height: 100% !important;
        max-height: 100% !important;
    }

    .hud-sheet {
        height: 100% !important;
        min-height: 100% !important;
        max-height: 100% !important;
    }
}

/* =====================================================
   MOBILE TITLE - COMPACT WITH SUBTLE GLOW
   ===================================================== */
@media screen and (max-width: 768px) {
    .hud-title {
        font-size: clamp(1.1rem, 5vw, 1.6rem) !important;
        line-height: 1.2 !important;
        letter-spacing: 0.1em !important;
    }
    
    .hud-title-line1,
    .hud-title-line2,
    .hud-title-line3 {
        font-size: inherit !important;
        display: block !important;
        margin-bottom: 0.15em !important;
    }
    
    /* Line 1 & 4 - Chrome with subtle glow */
    .hud-title-line1 {
        background: linear-gradient(180deg, #FFFFFF 0%, #D0D0D0 50%, #FFFFFF 100%) !important;
        -webkit-background-clip: text !important;
        -webkit-text-fill-color: transparent !important;
        background-clip: text !important;
        filter: drop-shadow(0 0 8px rgba(255,255,255,0.4)) !important;
    }
    
    /* Line 2 - Outline with glow */
    .hud-title-line2 {
        color: transparent !important;
        -webkit-text-stroke: 1px rgba(255, 255, 255, 0.6) !important;
        -webkit-text-fill-color: transparent !important;
        filter: drop-shadow(0 0 10px rgba(255,255,255,0.3)) !important;
    }
    
    /* Line 3 - White with soft glow */
    .hud-title-line3 {
        color: #FFFFFF !important;
        -webkit-text-fill-color: #FFFFFF !important;
        text-shadow: 
            0 0 8px rgba(255,255,255,0.6),
            0 0 20px rgba(255,255,255,0.3) !important;
    }
}

/* Small phones */
@media screen and (max-width: 380px) {
    .hud-title {
        font-size: clamp(0.95rem, 4.5vw, 1.3rem) !important;
    }
}

/* =====================================================
   DISABLE HEAVY ANIMATIONS ON MOBILE - CHI SIAMO
   Fix scroll jump caused by animated pseudo-elements
   ===================================================== */
@media screen and (max-width: 768px) {
    /* Disable particle and wave animations on Chi Siamo */
    #chisiamo::before,
    #chisiamo::after {
        animation: none !important;
        transform: none !important;
        opacity: 0.3 !important;
    }
    
    /* Also disable on Portfolio */
    #portfolio::before,
    #portfolio::after {
        animation: none !important;
        transform: none !important;
    }
    
    /* Disable floating orbs animations */
    .orb, .orb-1, .orb-2, .orb-3 {
        animation: none !important;
    }
    
    /* Disable scan lines */
    .scan-line {
        display: none !important;
    }
    
    /* Prevent any transform animations during scroll */
    #chisiamo,
    #portfolio,
    #chisiamo > *,
    #portfolio > * {
        will-change: auto !important;
        contain: layout style !important;
    }
}

/* =====================================================
   NUCLEAR FIX: KILL ALL DVH ON MOBILE
   Replace all dynamic viewport units with stable ones
   ===================================================== */
@media screen and (max-width: 768px) {
    /* Force all sections to use auto height - no vh units */
    .section,
    #servizi,
    #portfolio,
    #chisiamo,
    footer {
        height: auto !important;
        min-height: auto !important;
        max-height: none !important;
    }
    
    /* Only hero uses fixed height (locked by JS) */
    #animation-section {
        height: var(--stable-vh, 100svh) !important;
        min-height: var(--stable-vh, 100svh) !important;
        max-height: var(--stable-vh, 100svh) !important;
    }
    
    /* Prevent ANY element from using vh/dvh */
    * {
        --dvh-override: 1px; /* Force override */
    }
    
    /* Side decorations - hide on mobile */
    .side-decoration-left,
    .side-decoration-right {
        display: none !important;
    }
    
    /* Kill scan line animation */
    .scan-line {
        display: none !important;
    }
    
    /* Disable all CSS animations that use vh */
    @keyframes scanLine {
        0%, 100% { transform: translateY(0); }
    }
}

/* SECTION DIVIDERS - clean white sweep (no fixed line) */
.section-divider {
    position: relative !important;
    width: 100% !important;
    height: 1px !important;
    margin: 0 !important;
    display: block !important;
    background: transparent !important;
    overflow: hidden !important;
    pointer-events: none !important;
}

.section-divider::before,
.section-divider::after {
    content: none !important;
    display: none !important;
}

.section-divider .fluid-wave {
    all: unset !important;
    display: block !important;
    position: absolute !important;
    top: 0 !important;
    left: -40% !important;
    width: 40% !important;
    height: 100% !important;
    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.9) 50%, transparent 100%) !important;
    opacity: 0.9 !important;
    animation: whiteSweep 10s linear infinite !important;
    will-change: transform;
}

@keyframes whiteSweep {
    0% { transform: translateX(0); }
    100% { transform: translateX(250%); }
}

/* Remove scan-line to avoid extra colored sweeps */
.scan-line {
    display: none !important;
}

/* Ensure SERVIZI header text is visible */
#servizi .section-header,
#servizi .section-title,
#servizi .section-num {
    opacity: 1 !important;
    visibility: visible !important;
    color: #ffffff !important;
}

/* Reduce mobile scroll jump */
@media screen and (max-width: 768px) {
    html, body {
        scroll-behavior: auto !important;
        overscroll-behavior-y: none;
    }
}

/* ============================================
   iOS SAFARI COMPATIBILITY FIXES
============================================ */

/* iOS viewport height fix */
:root {
    --vh: 1vh;
    --safe-area-top: env(safe-area-inset-top, 0px);
    --safe-area-bottom: env(safe-area-inset-bottom, 0px);
}

/* iOS Safari touch and scroll fixes */
html, body {
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: none;
    touch-action: pan-y;
}

/* iOS notch and safe areas */
body {
    padding-top: var(--safe-area-top);
    padding-bottom: var(--safe-area-bottom);
}

/* iOS WebGL canvas fixes */
canvas {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    touch-action: none;
}

/* iOS animation performance */
#animation-section,
#animation-container,
.hud-sheet {
    -webkit-transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    transform: translateZ(0);
    backface-visibility: hidden;
    will-change: transform;
}

/* iOS Safari flexbox fixes */
.hud-content,
.hud-cta-buttons {
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
}

/* iOS specific viewport for hero */
@supports (-webkit-touch-callout: none) {
    #animation-section {
        height: -webkit-fill-available;
        min-height: -webkit-fill-available;
    }
    
    .hud-sheet {
        height: -webkit-fill-available;
    }
}

/* iOS wave animation GPU acceleration */
.wave-container,
.wave-animation,
[class*="wave"] {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
}
</style>

<style id="ios-universal-css">
/* Universal iOS Fixes - All Versions */
.ios-device {
    /* Use CSS custom property for viewport height */
    --safe-vh: var(--vh, 1vh);
}

.ios-device #animation-section {
    height: calc(var(--full-height, 100vh));
    min-height: calc(var(--full-height, 100vh));
    max-height: calc(var(--full-height, 100vh));
    /* Prevent any overflow issues */
    overflow: hidden;
    position: relative;
}

.ios-device #animation-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    /* Force GPU layer */
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
}

.ios-device canvas {
    /* Prevent touch actions on canvas */
    touch-action: none;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    /* Force GPU rendering */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

.ios-device .hud-sheet {
    /* Ensure HUD works over canvas */
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 10;
}

.ios-device .hud-cta-buttons,
.ios-device .btn-glow {
    pointer-events: auto;
}

/* iOS Safari notch support */
.ios-device body {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
}

/* Fix iOS scrolling */
.ios-device html,
.ios-device body {
    -webkit-overflow-scrolling: touch;
    overflow-x: hidden;
}

/* Wave animation iOS fix */
.ios-device [class*="wave"],
.ios-device .services-bg-wrapper {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    will-change: transform;
}
</style>

</head>

<body>
<!-- Universal iOS Compatibility Layer -->
<script>
(function() {
    'use strict';
    
    // Comprehensive iOS detection (works for all iOS versions)
    window.isIOSDevice = (function() {
        var ua = navigator.userAgent || navigator.vendor || window.opera;
        // Check for iPhone, iPad, iPod
        if (/iP(hone|od|ad)/.test(ua)) return true;
        // Check for iOS 13+ iPad (reports as MacIntel)
        if (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1) return true;
        // Check for Safari on iOS via standalone mode
        if (navigator.standalone !== undefined) return true;
        return false;
    })();
    
    window.iOSVersion = (function() {
        if (!window.isIOSDevice) return 0;
        var v = (navigator.userAgent).match(/OS (\d+)_(\d+)_?(\d+)?/);
        return v ? parseInt(v[1], 10) : 0;
    })();
    
    if (!window.isIOSDevice) return;
    
    console.log('[iOS Universal] Detected iOS version:', window.iOSVersion || 'unknown');
    
    // Apply iOS-specific body class for CSS targeting
    document.documentElement.classList.add('ios-device');
    document.documentElement.classList.add('ios-' + (window.iOSVersion || 'unknown'));
    
    // iOS Viewport Height Fix (critical for all iOS versions)
    function updateIOSViewport() {
        var vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', vh + 'px');
        document.documentElement.style.setProperty('--full-height', window.innerHeight + 'px');
    }
    updateIOSViewport();
    window.addEventListener('resize', updateIOSViewport);
    window.addEventListener('orientationchange', function() {
        setTimeout(updateIOSViewport, 100);
        setTimeout(updateIOSViewport, 300);
    });
    
    // Prevent iOS bounce scrolling
    document.body.style.overscrollBehavior = 'none';
    
    // iOS Safari WebGL Memory Management
    window.iOSWebGLMemoryLimit = true;
    
    // Force garbage collection hint before heavy WebGL operations
    window.iOSPrepareWebGL = function() {
        if (window.gc) window.gc();
    };
    
    console.log('[iOS Universal] All fixes applied');
})();
</script>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <a href="#animation-section" class="nav-logo">RENDER STUDIO</a>
        <ul class="nav-links" id="navLinks">
            <li><a href="#animation-section">Home</a></li>
            <li><a href="#servizi">Servizi</a></li>
            <li><a href="#portfolio">Portfolio</a></li>
            <li><a href="#chisiamo">Chi Siamo</a></li>
            <li><a href="#contatti">Contatti</a></li>
        </ul>
        <button class="nav-toggle" id="navToggle" aria-label="Menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </nav>

    <!-- Animation Section with HUD Frame -->
    <section id="animation-section">
        <!-- 3D Animation Container -->
        <div id="animation-container"></div>

        <!-- HUD Overlay Sheet -->
        <div class="hud-sheet">
            <!-- Corner decorations -->
            <div class="hud-corner tl"></div>
            <div class="hud-corner tr"></div>
            <div class="hud-corner bl"></div>
            <div class="hud-corner br"></div>

            <!-- HUD Content -->
            <div class="hud-content">
                <div class="hud-top">
                    <div class="hud-title-block">
                        <h1 class="hud-title">
                            <span class="hud-title-line1">We Elevate</span>
                            <span class="hud-title-line2">Your Image</span>
                            <span class="hud-title-line3">Take Your Message</span>
                            <span class="hud-title-line1">Higher</span>
                        </h1>
                        <span class="hud-sub">Digital Production House � 2026</span>
                    </div>
                </div>

                <div class="hud-bottom">
                    <!-- CTA Buttons -->
                    <div class="hud-cta-buttons">
                        <button class="btn-glow btn-primary"
                            onclick="document.getElementById('servizi').scrollIntoView({behavior:'smooth'})">Explore
                            System</button>
                        <button class="btn-glow btn-secondary"
                            onclick="document.getElementById('contatti').scrollIntoView({behavior:'smooth'})">Start
                            Project</button>
                    </div>
                    <div class="hud-notes">
                        <div class="hud-note-line"><span>Format</span> 4K UHD</div>
                        <div class="hud-note-line"><span>Frame</span> 24fps</div>
                        <div class="hud-note-line"><span>Pipeline</span> Real-time 3D</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scroll Indicator -->
        <div class="anim-scroll-indicator">
            <span>Scroll</span>
            <span class="arrow">↓</span>
        </div>
    </section>


    <!-- Side Decorations -->
    <div class="side-decoration-left">
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
    </div>
    <div class="side-decoration-right"></div>
    <div class="scan-line"></div>

    <!-- Floating Orbs Background -->
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>

    <!-- Loader -->
    <div id="loader">
        <div class="spinner"></div>
    </div>
    
    <!-- FALLBACK: Hide loader after 4 seconds NO MATTER WHAT (before modules load) -->
    <script>
        (function() {
            // Catch all errors
            window.onerror = function(msg, url, line) {
                console.error('JS Error:', msg, url, line);
                var loader = document.getElementById('loader');
                if (loader) loader.style.display = 'none';
                return false;
            };
            
            // Fallback timeout - hide loader after 4 seconds
            setTimeout(function() {
                var loader = document.getElementById('loader');
                if (loader && loader.style.display !== 'none') {
                    console.log('Loader fallback timeout triggered');
                    loader.style.opacity = '0';
                    setTimeout(function() { 
                        loader.style.display = 'none'; 
                    }, 500);
                }
            }, 4000);
            
            // Also hide on window load
            window.addEventListener('load', function() {
                setTimeout(function() {
                    var loader = document.getElementById('loader');
                    if (loader && loader.style.display !== 'none') {
                        loader.style.opacity = '0';
                        setTimeout(function() { 
                            loader.style.display = 'none'; 
                        }, 500);
                    }
                }, 2000);
            });
        })();
    </script>



    
    <div class="section-divider"><div class="fluid-wave"></div></div>

    <!-- Services Section -->
    <section id="servizi" class="section services-section">
        <div id="services-bg" class="services-bg"></div>
        <div class="services-content">
            <div class="section-header">
                <div>
                    <h2 class="section-title text-chrome">SERVIZI</h2>
                    <p style="font-family: JetBrains Mono, monospace; font-size: 11px; color: rgba(255,255,255,0.5); text-transform: uppercase; letter-spacing: 0.15em;">Modular Service Architecture</p>
                </div>
                <span class="section-num">01</span>
            </div>
            <div style="display: flex; flex-direction: column; gap: 24px;">
            <div class="border-glow service-card-new">
                <div class="card-grid">
                    <div class="index-icon"><span class="service-num">01</span><svg class="service-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2l8.66 5v10L12 22l-8.66-5V7L12 2z"/></svg></div>
                    <div class="content"><h3>Analisi degli Obiettivi</h3><p>Analisi approfondita dei vostri obiettivi di comunicazione per sviluppare strategie video efficaci e misurabili.</p></div>
                    <div class="tags"><span class="tag">Strategia</span><span class="tag">KPI</span><span class="tag">Targeting</span></div>
                </div><div class="progress-bar"></div>
            </div>
            <div class="border-glow service-card-new">
                <div class="card-grid">
                    <div class="index-icon"><span class="service-num">02</span><svg class="service-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 9h20M2 15h20M9 2v20M15 2v20"/></svg></div>
                    <div class="content"><h3>Storytelling</h3><p>Creazione di narrazioni coinvolgenti che comunicano i valori del vostro brand in modo autentico ed emozionale.</p></div>
                    <div class="tags"><span class="tag">Script</span><span class="tag">Concept</span><span class="tag">Regia</span></div>
                </div><div class="progress-bar"></div>
            </div>
            <div class="border-glow service-card-new">
                <div class="card-grid">
                    <div class="index-icon"><span class="service-num">03</span><svg class="service-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M5 3l14 9-14 9V3z"/></svg></div>
                    <div class="content"><h3>Video Editing</h3><p>Montaggio professionale e post-produzione per video aziendali, promozionali e contenuti per social media.</p></div>
                    <div class="tags"><span class="tag">Montaggio</span><span class="tag">Color</span><span class="tag">Sound</span></div>
                </div><div class="progress-bar"></div>
            </div>
            <div class="border-glow service-card-new">
                <div class="card-grid">
                    <div class="index-icon"><span class="service-num">04</span><svg class="service-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z M12 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/></svg></div>
                    <div class="content"><h3>Motion Graphics</h3><p>Animazioni dinamiche, grafica in movimento e visualizzazioni 3D per comunicare in modo innovativo.</p></div>
                    <div class="tags"><span class="tag">3D</span><span class="tag">2D</span><span class="tag">VFX</span></div>
                </div><div class="progress-bar"></div>
            </div>
            <div class="border-glow service-card-new">
                <div class="card-grid">
                    <div class="index-icon"><span class="service-num">05</span><svg class="service-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M15 4l6 2-6 2-2 6-2-6-6-2 6-2 2-6z"/></svg></div>
                    <div class="content"><h3>Postproduzione Avanzata</h3><p>Tecniche avanzate di postproduzione per elevare la qualita visiva dei vostri contenuti video.</p></div>
                    <div class="tags"><span class="tag">Compositing</span><span class="tag">CGI</span><span class="tag">Retouch</span></div>
                </div><div class="progress-bar"></div>
            </div>
            <div class="border-glow ai-director-card">
                <div class="bg-sweep"></div>
                <div style="position: relative; z-index: 10;"><h3>AI DIRECTOR</h3><p>Neural Concept Generation Engine // V.2.0</p></div>
                <div style="position: relative; z-index: 10;"><div class="hex-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="width: 24px; height: 24px;"><path d="M12 2l8.66 5v10L12 22l-8.66-5V7L12 2z"/></svg></div></div>
            </div>
            </div>
        </div>
    </section>

    

    <div class="section-divider"><div class="fluid-wave"></div></div>

    <!-- Portfolio Section -->
    <section id="portfolio" class="section" style="padding-left:0!important;padding-right:0!important;">
        <div class="section-header" style="padding:60px 40px 40px 40px;">
            <h2 class="section-title text-silver">PORTFOLIO</h2>
            <span class="section-num">02 / SELECTED WORKS</span>
        </div>

        <div class="portfolio-grid">
            <div class="portfolio-item">
                <img src="https://image.pollinations.ai/prompt/silver%20cyberpunk%20car%20in%20rainy%20neon%20city%20night%20reflection%208k%20aspect%2016:9" alt="Neon City">
                <div class="portfolio-overlay"><h4>NEON CITY</h4><span>Automotive</span></div>
            </div>
            <div class="portfolio-item">
                <img src="https://image.pollinations.ai/prompt/black%20diamond%20ring%20on%20dark%20glossy%20surface%20studio%20light%20macro%208k%20aspect%2016:9" alt="Obsidian">
                <div class="portfolio-overlay"><h4>OBSIDIAN</h4><span>Luxury</span></div>
            </div>
            <div class="portfolio-item">
                <img src="https://image.pollinations.ai/prompt/futuristic%20silver%20fashion%20model%20metallic%20clothing%20clean%20studio%208k%20aspect%2016:9" alt="Chrome">
                <div class="portfolio-overlay"><h4>CHROME</h4><span>Fashion</span></div>
            </div>
            <div class="portfolio-item">
                <img src="https://image.pollinations.ai/prompt/abstract%20black%20and%20white%20data%20center%20server%20lights%20minimalist%208k%20aspect%2016:9" alt="Void">
                <div class="portfolio-overlay"><h4>VOID</h4><span>Tech</span></div>
            </div>
            <div class="portfolio-item">
                <img src="https://image.pollinations.ai/prompt/luxury%20black%20perfume%20bottle%20smoke%20dark%20background%20studio%20lighting%208k%20aspect%2016:9" alt="Essence">
                <div class="portfolio-overlay"><h4>ESSENCE</h4><span>Beauty</span></div>
            </div>
            <div class="portfolio-item">
                <img src="https://image.pollinations.ai/prompt/modern%20architecture%20building%20glass%20facade%20night%20city%20lights%20reflection%208k%20aspect%2016:9" alt="Horizon">
                <div class="portfolio-overlay"><h4>HORIZON</h4><span>Architecture</span></div>
            </div>
            <div class="portfolio-item">
                <img src="https://image.pollinations.ai/prompt/premium%20watch%20close%20up%20chrome%20metallic%20dark%20background%20luxury%208k%20aspect%2016:9" alt="Chronos">
                <div class="portfolio-overlay"><h4>CHRONOS</h4><span>Watches</span></div>
            </div>
            <div class="portfolio-item">
                <img src="https://image.pollinations.ai/prompt/electronic%20music%20dj%20neon%20lights%20concert%20stage%20dark%208k%20aspect%2016:9" alt="Pulse">
                <div class="portfolio-overlay"><h4>PULSE</h4><span>Events</span></div>
            </div>
            <div class="portfolio-item">
                <img src="https://image.pollinations.ai/prompt/minimalist%20white%20sneaker%20product%20shot%20clean%20background%20studio%20lighting%208k%20aspect%2016:9" alt="Stride">
                <div class="portfolio-overlay"><h4>STRIDE</h4><span>Sportswear</span></div>
            </div>
        </div>
    </section>

    
    <div class="section-divider"><div class="fluid-wave"></div></div>

    <!-- About Section -->
    <section id="chisiamo" class="section">
        <div class="section-header">
            <h2 class="section-title text-glow">CORE TEAM</h2>
            <span class="section-num">03</span>
        </div>

        <div class="about-grid">
            <div class="about-text">
                <p>
                    Render Studio nasce nel 2025. Un collettivo di ingegneri visivi e direttori creativi.
                    La nostra missione è l'estetica assoluta attraverso la tecnologia.
                </p>

                <div class="team">
                    <div class="team-member">
                        <h4>DAMIANO</h4>
                        <span>Dir. Creativa</span>
                    </div>
                    <div class="team-member">
                        <h4>ALESSANDRO</h4>
                        <span>Motion Lead</span>
                    </div>
                    <div class="team-member">
                        <h4>MATTEO</h4>
                        <span>3D Architect</span>
                    </div>
                </div>
            </div>

            <div class="about-image">
                <img src="https://image.pollinations.ai/prompt/abstract%20wireframe%20head%20sculpture%20cyberpunk%20style%20black%20background%208k%20aspect%201:1"
                    alt="Team">
            </div>
        </div>
    </section>

    
    <div class="section-divider"><div class="fluid-wave"></div></div>

    <!-- Footer -->
    <footer id="contatti">
        <div class="footer-content">
            <div class="footer-cta">
                <h2>START<br><span class="outline">PROJECT</span></h2>
                <button class="btn btn-primary">Invia Brief</button>
            </div>
            <div class="footer-contact">
                <p>info@renderstudio.it</p>
                <p>+39 0438 123 456</p>
                <p>Vittorio Veneto, Italy</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2025 RENDER STUDIO</p>
            <div class="footer-links">
                <span>Instagram</span>
                <span>LinkedIn</span>
            </div>
        </div>
    </footer>

    <!-- Three.js Scripts -->
    <!-- Load polyfill BEFORE import map (not async!) -->
    <script>
        // Polyfill for older browsers that don't support import maps
        if (!HTMLScriptElement.supports || !HTMLScriptElement.supports('importmap')) {
            document.write('<script src="https://unpkg.com/es-module-shims@1.8.0/dist/es-module-shims.js"><\/script>');
        }
    </script>
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
        }
    }
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { RoomEnvironment } from 'three/addons/environments/RoomEnvironment.js';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
        import { DRACOLoader } from 'three/addons/loaders/DRACOLoader.js';

        // Helper to hide loader
        function forceHideLoader() {
            const loader = document.getElementById('loader');
            if (loader) {
                loader.style.opacity = '0';
                setTimeout(() => loader.style.display = 'none', 300);
            }
        }

        // Check WebGL support
        function checkWebGL() {
            try {
                const canvas = document.createElement('canvas');
                return !!(window.WebGLRenderingContext && 
                    (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));
            } catch(e) {
                return false;
            }
        }

        // If no WebGL, show fallback and stop
        if (!checkWebGL()) {
            forceHideLoader();
            const container = document.getElementById('animation-container');
            if (container) {
                container.innerHTML = '<div style="display:flex;align-items:center;justify-content:center;height:100%;color:#666;font-family:sans-serif;text-align:center;padding:20px;">3D non supportato</div>';
            }
            throw new Error('WebGL not supported');
        }

        console.log('Three.js loaded successfully');

        const MODEL_URL = './ANIMAZIONE%20LOGO23%20(1).glb';

        const container = document.getElementById('animation-container');
        const animationSection = document.getElementById('animation-section');

        // Mobile and iOS detection for performance settings
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) || (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
        
        // Sfere uguali su tutti i dispositivi mobile
        const MOBILE_SPHERE_COUNT = 6;
        const DESKTOP_SPHERE_COUNT = 30;
        
        // Segmenti uguali per mobile
        const sphereSegments = (isMobile || isIOS) ? 12 : 24;
        let animationPaused = false;

        // Track if mouse is inside the section
        let mouseInSection = false;
        // Scene + Renderer
        const scene = new THREE.Scene();
        // Wider FOV on mobile to see spheres better
        const mobileFOV = 45;
        const desktopFOV = 30;
        const camera = new THREE.PerspectiveCamera(isMobile ? mobileFOV : desktopFOV, container.offsetWidth / container.offsetHeight, 0.1, 1500);
        camera.position.set(0, 0, 35); // Initial position, updated when model loads
        camera.position.set(0, 0, 35); // Default position for when model doesn't load

        // Create renderer with high-performance power preference
        const renderer = new THREE.WebGLRenderer({
            antialias: !isMobile, // Disable antialiasing on mobile for performance
            alpha: true,
            powerPreference: isMobile ? 'default' : 'high-performance',
            preserveDrawingBuffer: true,
            failIfMajorPerformanceCaveat: false
        });
        renderer.setSize(container.offsetWidth, container.offsetHeight);
        // Pixel ratio: max 2 su mobile per bilanciare qualità/performance
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, isMobile ? 2 : 3));

        THREE.ColorManagement.enabled = true;
        renderer.outputColorSpace = THREE.SRGBColorSpace;
        renderer.toneMapping = THREE.ACESFilmicToneMapping;
        renderer.toneMappingExposure = 1.05;
        renderer.shadowMap.enabled = !isMobile;  // Disable shadows on mobile for performance
        renderer.shadowMap.type = THREE.PCFSoftShadowMap;

        container.appendChild(renderer.domElement);

        // Background (stars)
        function createSpaceBackground() {
            const size = 1024;
            const c = document.createElement('canvas');
            c.width = c.height = size;
            const ctx = c.getContext('2d');

            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, size, size);

            ctx.fillStyle = '#ffffff';
            // Reduced star count for performance
            for (let i = 0; i < 300; i++) {
                const x = Math.random() * size;
                const y = Math.random() * size;
                const r = Math.random() * 0.8 + 0.2;
                ctx.globalAlpha = Math.random() * 0.8 + 0.2;
                ctx.beginPath();
                ctx.arc(x, y, r, 0, Math.PI * 2);
                ctx.fill();
            }

            // Reduced larger star count for performance
            for (let i = 0; i < 20; i++) {
                const x = Math.random() * size;
                const y = Math.random() * size;
                const r = Math.random() * 1.5 + 0.5;
                ctx.globalAlpha = 1.0;
                ctx.beginPath();
                ctx.arc(x, y, r, 0, Math.PI * 2);
                ctx.fill();

                const g = ctx.createRadialGradient(x, y, r, x, y, r * 4);
                g.addColorStop(0, 'rgba(255,255,255,0.8)');
                g.addColorStop(1, 'rgba(255,255,255,0)');
                ctx.fillStyle = g;
                ctx.beginPath();
                ctx.arc(x, y, r * 4, 0, Math.PI * 2);
                ctx.fill();
                ctx.fillStyle = '#ffffff';
            }

            const tex = new THREE.CanvasTexture(c);
            tex.colorSpace = THREE.SRGBColorSpace;
            return tex;
        }

        const starfieldTex = createSpaceBackground();
        starfieldTex.wrapS = starfieldTex.wrapT = THREE.RepeatWrapping;
        const starSphere = new THREE.Mesh(
            new THREE.SphereGeometry(500, 32, 32),
            new THREE.MeshBasicMaterial({ map: starfieldTex, side: THREE.BackSide })
        );
        scene.add(starSphere);
        scene.background = null;
        scene.fog = new THREE.FogExp2(0x000000, 0.003);

        // Environment
        const pmrem = new THREE.PMREMGenerator(renderer);
        const envTex = pmrem.fromScene(new RoomEnvironment(), 0.04).texture;
        scene.environment = envTex;

        // Lights
        scene.add(new THREE.AmbientLight(0xffffff, 0.18));

        const key = new THREE.DirectionalLight(0xffffff, 2.0);
        key.position.set(8, 14, 18);
        key.castShadow = true;
        key.shadow.mapSize.set(2048, 2048);
        key.shadow.bias = -0.00008;
        scene.add(key);

        const rim = new THREE.DirectionalLight(0xdde7ff, 0.9);
        rim.position.set(-14, 6, -10);
        scene.add(rim);

        const mouseLight = new THREE.PointLight(0x3623ff, 110, 60);
        mouseLight.position.set(0, 0, 10);
        scene.add(mouseLight);

        const mouseGlow = new THREE.Mesh(
            new THREE.IcosahedronGeometry(0.22, 2),
            new THREE.MeshBasicMaterial({
                color: 0x3623ff,
                transparent: true,
                opacity: 0.55,
                blending: THREE.AdditiveBlending,
                depthWrite: false
            })
        );
        mouseGlow.position.copy(mouseLight.position);
        mouseGlow.renderOrder = 999;
        scene.add(mouseGlow);

        // Pitted normal map
        function createPittedNormalMap(size = 1024, repeat = 2.0) {
            const canvas = document.createElement('canvas');
            canvas.width = canvas.height = size;
            const ctx = canvas.getContext('2d');

            ctx.fillStyle = 'rgb(128, 128, 255)';
            ctx.fillRect(0, 0, size, size);

            for (let i = 0; i < 60000; i++) {
                const x = Math.random() * size;
                const y = Math.random() * size;
                const r = Math.random() * 1.5 + 0.5;
                const nx = 128 + (Math.random() - 0.5) * 80;
                const ny = 128 + (Math.random() - 0.5) * 80;
                ctx.fillStyle = `rgb(${nx}, ${ny}, 255)`;
                ctx.beginPath();
                ctx.arc(x, y, r, 0, Math.PI * 2);
                ctx.fill();
            }

            const tex = new THREE.CanvasTexture(canvas);
            tex.colorSpace = THREE.NoColorSpace;
            tex.wrapS = tex.wrapT = THREE.RepeatWrapping;
            tex.repeat.set(repeat, repeat);
            return tex;
        }

        const pittedNormalMap = createPittedNormalMap();

        // Materials
        const sphereMaterial = new THREE.MeshPhysicalMaterial({
            color: 0xffffff,
            metalness: 0.6,
            roughness: 0.03,
            transmission: 0.85,
            thickness: 1.5,
            ior: 1.5,
            clearcoat: 1.0,
            clearcoatRoughness: 0.05,
            transparent: true,
            opacity: 1.0,
            envMapIntensity: 2.5,
            emissive: 0xffffff,
            emissiveIntensity: 0.15
        });

        const platinumMaterial = new THREE.MeshPhysicalMaterial({
            color: 0xb8b8b8,
            metalness: 1.0,
            roughness: 0.16,
            ior: 2.05,
            clearcoat: 1.0,
            clearcoatRoughness: 0.10,
            normalMap: pittedNormalMap,
            normalScale: new THREE.Vector2(2.2, 2.2),
            envMapIntensity: 1.25,
            emissive: new THREE.Color(0x000000),
            emissiveIntensity: 0.0
        });

        const tintMaterials = [];
        let BASE_TINT = new THREE.Color(0xb8b8b8);
        let HOVER_TINT = new THREE.Color(0xc6dcff);
        const _tintColor = new THREE.Color();
        let tintT = 0;

        // Spheres - optimized for mobile
        const spheres = [];
        const sphereGeo = new THREE.SphereGeometry(0.8, sphereSegments, sphereSegments);
        const sphereGroup = new THREE.Group();
        scene.add(sphereGroup);

        const SPHERE_COUNT = isMobile ? MOBILE_SPHERE_COUNT : DESKTOP_SPHERE_COUNT;
        for (let i = 0; i < SPHERE_COUNT; i++) {
            const mesh = new THREE.Mesh(sphereGeo, sphereMaterial.clone());
            tintMaterials.push(mesh.material);

            mesh.material.roughness = 0.03 + Math.random() * 0.04;
            mesh.material.normalScale = new THREE.Vector2(0.65 + Math.random() * 0.25, 0.65 + Math.random() * 0.25);

            // Start spheres behind the R logo (negative Z) and spread outward
            const a = (i / SPHERE_COUNT) * Math.PI * 2;
            const startZ = -15 - Math.random() * 10;  // Behind the R logo
            const startX = (Math.random() - 0.5) * 6;  // Clustered near center
            const startY = (Math.random() - 0.5) * 6;
            mesh.position.set(startX, startY, startZ);
            mesh.castShadow = true;
            mesh.receiveShadow = true;

            // Target orbit radius for animation - smaller on mobile
            const mobileOrbitRadius = 6 + Math.random() * 6;
            const desktopOrbitRadius = 15 + Math.random() * 15;
            const targetRadius = isMobile ? mobileOrbitRadius : desktopOrbitRadius;

            mesh.userData = {
                radius: 1.2,
                velocity: new THREE.Vector3(
                    (Math.random() - 0.5) * 2,
                    (Math.random() - 0.5) * 1,
                    2 + Math.random() * 3  // Positive Z velocity to emerge from behind R
                ),
                angle: a,
                orbitRadius: targetRadius,
                orbitSpeed: 0.25 + Math.random() * 0.35,
                yOffset: (Math.random() - 0.5) * 8
            };

            spheres.push(mesh);
            sphereGroup.add(mesh);
        }

        // Mouse tracking
        const mouseNDC = new THREE.Vector2();
        const raycaster = new THREE.Raycaster();
        const hoverRaycaster = new THREE.Raycaster();
        const planeZ = new THREE.Plane(new THREE.Vector3(0, 0, 1), 0);
        const mouseWorld = new THREE.Vector3();
        const _mouseLightTarget = new THREE.Vector3();

        let hoverTarget = null;
        let hoverStrict = false;
        let hoverState = false;
        let hoverTimer = 0;
        const HOVER_ON_DELAY = 0.32;
        const HOVER_OFF_DELAY = 0.12;

        function onPointerMove(e) {
            const rect = animationSection.getBoundingClientRect();
            const x = ((e.clientX - rect.left) / rect.width) * 2 - 1;
            const y = -((e.clientY - rect.top) / rect.height) * 2 + 1;
            mouseNDC.set(x, y);
        }

        function onTouchMove(e) {
            if (e.touches.length > 0) {
                const touch = e.touches[0];
                const rect = animationSection.getBoundingClientRect();
                const x = ((touch.clientX - rect.left) / rect.width) * 2 - 1;
                const y = -((touch.clientY - rect.top) / rect.height) * 2 + 1;
                mouseNDC.set(x, y);
            }
        }

        animationSection.addEventListener('pointermove', onPointerMove, { passive: true });
        animationSection.addEventListener('touchmove', onTouchMove, { passive: true });
        animationSection.addEventListener('touchstart', onTouchMove, { passive: true });

        // Track mouse enter/leave for disabling magnetism when mouse exits
        animationSection.addEventListener('mouseenter', () => { mouseInSection = true; });
        animationSection.addEventListener('mouseleave', () => { mouseInSection = false; });
        document.addEventListener('mouseleave', () => { mouseInSection = false; });

        function randomizeColors() {
            const hue = Math.random();
            const sat = 0.8 + Math.random() * 0.2;
            const complementaryHue = (hue + 0.5) % 1.0;

            mouseLight.color.setHSL(hue, sat, 0.5);
            mouseGlow.material.color.setHSL(hue, sat, 0.5);

            BASE_TINT.setHSL(hue, 0.7, 0.5);
            HOVER_TINT.setHSL(hue, 0.8, 0.6);

            for (let i = 0; i < spheres.length; i++) {
                spheres[i].material.color.setHSL(complementaryHue, 0.7, 0.5);
                spheres[i].material.emissive.setHSL(complementaryHue, 0.5, 0.15);
            }
        }

        document.addEventListener('pointerdown', randomizeColors);
        document.addEventListener('touchstart', randomizeColors, { passive: true });

        function updateMouseWorld() {
            raycaster.setFromCamera(mouseNDC, camera);
            raycaster.ray.intersectPlane(planeZ, mouseWorld);
        }

        // GLTF Loader
        const draco = new DRACOLoader();
        draco.setDecoderPath('https://www.gstatic.com/draco/versioned/decoders/1.5.7/');

        const gltfLoader = new GLTFLoader();
        gltfLoader.setDRACOLoader(draco);

        let model, pivot, mixer;
        let logoCollisionRadius = 3.0;

        const clock = new THREE.Clock();

        // Helper function to hide loader
        function hideLoader() {
            const loader = document.getElementById('loader');
            if (loader && loader.style.display !== 'none') {
                loader.style.opacity = '0';
                setTimeout(() => loader.style.display = 'none', 500);
            }
        }

        // FALLBACK: Hide loader after 5 seconds even if model fails
        setTimeout(hideLoader, 5000);

        gltfLoader.load(MODEL_URL, (gltf) => {
            model = gltf.scene;
            model.traverse(o => {
                if (!o.isMesh) return;
                o.material = platinumMaterial.clone();
                tintMaterials.push(o.material);
                o.material.roughness = 0.16;
                o.castShadow = true;
                o.receiveShadow = true;
                if (o.geometry) o.geometry.computeVertexNormals();
            });

            pivot = new THREE.Group();
            scene.add(pivot);
            pivot.add(model);

            let rMesh = null;
            model.traverse(o => {
                if (!o.isMesh) return;
                const n = (o.name || '').trim();
                if (!n) return;
                if (!rMesh && /(^|[^A-Za-z])r([^A-Za-z]|$)/i.test(n)) rMesh = o;
                if (!rMesh && /\bR\b/.test(n)) rMesh = o;
                if (!rMesh && /letter/i.test(n) && /r/i.test(n)) rMesh = o;
            });
            hoverTarget = rMesh || model;
            hoverStrict = !!rMesh;

            const box = new THREE.Box3().setFromObject(model);
            const center = box.getCenter(new THREE.Vector3());
            const size = box.getSize(new THREE.Vector3());

            model.position.sub(center);
            logoCollisionRadius = Math.max(size.x, size.y, size.z) * 0.55;

            const maxDim = Math.max(size.x, size.y, size.z);
            camera.position.set(0, 0, maxDim * 4.15);
            camera.lookAt(0, 0, 0);

            if (gltf.animations?.length) {
                mixer = new THREE.AnimationMixer(model);
                gltf.animations.forEach(a => mixer.clipAction(a).play());
            }

            hideLoader();
        },
        // Progress callback
        (xhr) => {
            // Model loading progress (optional)
        },
        // Error callback
        (error) => {
            console.error('Error loading 3D model:', error);
            hideLoader(); // Hide loader even on error
        });

        // Physics - Reduced bounce, increased magnetism
        const RESTITUTION = 0.02;
        const FIXED_DT = 1 / 90;
        let accumulator = 0;
        const _target = new THREE.Vector3();
        const _toTarget = new THREE.Vector3();
        const _fromMouse = new THREE.Vector3();

        function resolvePair(a, b) {
            const pa = a.position, pb = b.position;
            const va = a.userData.velocity, vb = b.userData.velocity;
            const ra = a.userData.radius, rb = b.userData.radius;

            const n = new THREE.Vector3().subVectors(pa, pb);
            const dist = n.length();
            const minDist = ra + rb + 0.5;  // Larger buffer to prevent vibration

            if (dist >= minDist || dist === 0) return;

            n.divideScalar(dist);
            const pen = minDist - dist;
            // Gentler position correction (0.3 instead of 0.5)
            const corr = n.clone().multiplyScalar(pen * 0.3);
            pa.add(corr);
            pb.sub(corr);

            const relV = new THREE.Vector3().subVectors(va, vb);
            const vn = relV.dot(n);
            if (vn > 0) return;

            // Very soft bounce - almost no restitution
            const j = -(1 + 0.01) * vn / 2;
            const impulse = n.clone().multiplyScalar(j * 0.5);  // Halved impulse
            va.add(impulse);
            vb.sub(impulse);
        }

        function collideWithLogo(s) {
            const r = s.userData.radius;
            const dist = s.position.length();
            const minDist = logoCollisionRadius + r + 0.3;  // Larger buffer
            if (dist >= minDist || dist === 0) return;

            const n = s.position.clone().normalize();
            // Gradual push instead of instant snap
            const pushStrength = (minDist - dist) * 0.4;
            s.position.addScaledVector(n, pushStrength);

            // Very soft velocity dampening instead of bounce
            const v = s.userData.velocity;
            const vn = v.dot(n);
            if (vn < 0) {
                v.addScaledVector(n, -vn * 0.8);  // Absorb most of the impact
            }
        }

        function stepPhysics(dt, time) {
            const damping = 0.6;  // Balanced damping
            const springK = 2.0;  // Softer spring
            const maxSpeed = 12.0;  // Faster for snappy magnetism
            const mouseRepelRadius = 80.0;  // Very large effect radius
            const mouseRepelStrength = 900.0;  // Very strong magnetism

            for (let i = 0; i < spheres.length; i++) {
                const s = spheres[i];
                const u = s.userData;

                u.angle += u.orbitSpeed * dt;
                _target.set(
                    Math.cos(u.angle) * u.orbitRadius,
                    u.yOffset + Math.sin(time * 0.55 + i * 0.7) * 1.4,
                    Math.sin(u.angle) * u.orbitRadius
                );

                _toTarget.subVectors(_target, s.position);
                u.velocity.addScaledVector(_toTarget, springK * dt);

                _fromMouse.subVectors(mouseWorld, s.position);
                const d = _fromMouse.length();
                // Only apply magnetism if mouse is inside the section
                if (mouseInSection && d > 1e-4 && d < mouseRepelRadius) {
                    const w = 1 - d / mouseRepelRadius;
                    _fromMouse.multiplyScalar(1 / d);
                    u.velocity.addScaledVector(_fromMouse, mouseRepelStrength * w * w * dt);
                }

                u.velocity.multiplyScalar(Math.exp(-damping * dt));

                const v2 = u.velocity.lengthSq();
                const m2 = maxSpeed * maxSpeed;
                if (v2 > m2) u.velocity.multiplyScalar(Math.sqrt(m2 / v2));

                s.position.addScaledVector(u.velocity, dt);

                // Bound limits - smaller on mobile to keep spheres in view
                const mobileBound = 150.0;
                const desktopBound = 50.0;
                const bound = isMobile ? mobileBound : desktopBound;
                const rr = s.position.length();
                if (rr > bound) {
                    s.position.multiplyScalar(bound / rr);
                    u.velocity.multiplyScalar(0.35);
                }

                if (pivot) collideWithLogo(s);

                s.rotation.x += dt * 0.9;
                s.rotation.y += dt * 1.05;
            }

            for (let i = 0; i < spheres.length; i++) {
                for (let j = i + 1; j < spheres.length; j++) {
                    resolvePair(spheres[i], spheres[j]);
                }
            }
        }

        // Postprocessing disabled for performance; render directly in the animation loop

        // Animation loop - with visibility check for performance
        function animate() {
            requestAnimationFrame(animate);

            // Skip rendering if animation is paused (off-screen)
            if (animationPaused) return;

            const delta = Math.min(clock.getDelta(), 0.05);
            const time = clock.getElapsedTime();

            if (mixer) mixer.update(delta);

            updateMouseWorld();

            _mouseLightTarget.set(mouseWorld.x, mouseWorld.y, 10);
            mouseLight.position.lerp(_mouseLightTarget, 0.16);
            mouseGlow.position.copy(mouseLight.position);
            const pulse = 0.88 + 0.12 * Math.sin(time * 2.2);
            mouseGlow.scale.setScalar(pulse);

            starSphere.rotation.y += delta * 0.02;
            starSphere.rotation.x += delta * 0.005;

            // Hover detection
            let hoverCandidate = false;
            if (pivot && hoverTarget) {
                hoverRaycaster.setFromCamera(mouseNDC, camera);
                const hits = hoverRaycaster.intersectObject(hoverTarget, true);
                if (hits.length) {
                    hoverCandidate = hoverStrict || hits[0].point.length() < logoCollisionRadius * 0.48;
                }
            }

            if (!hoverState) {
                if (hoverCandidate) {
                    hoverTimer += delta;
                    if (hoverTimer >= HOVER_ON_DELAY) { hoverState = true; hoverTimer = 0; }
                } else hoverTimer = 0;
            } else {
                if (!hoverCandidate) {
                    hoverTimer += delta;
                    if (hoverTimer >= HOVER_OFF_DELAY) { hoverState = false; hoverTimer = 0; }
                } else hoverTimer = 0;
            }

            const targetT = hoverState ? 1 : 0;
            const tau = targetT > tintT ? 0.70 : 0.30;
            const aa = 1 - Math.exp(-delta / tau);
            tintT += (targetT - tintT) * aa;
            _tintColor.copy(BASE_TINT).lerp(HOVER_TINT, tintT);
            if (window.updateTrailColor) window.updateTrailColor(_tintColor.getStyle());
            for (let i = 0; i < tintMaterials.length; i++) tintMaterials[i].color.copy(_tintColor);

            if (pivot) {
                const tx = -mouseNDC.y * 0.20;
                const ty = mouseNDC.x * 0.25;
                pivot.rotation.x += (tx - pivot.rotation.x) * (1 - Math.exp(-6.5 * delta));
                pivot.rotation.y += (ty - pivot.rotation.y) * (1 - Math.exp(-6.5 * delta));
                pivot.position.set(0, 0, 0);
            }

            accumulator += delta;
            if (accumulator > 0.25) accumulator = 0.25;
            while (accumulator >= FIXED_DT) {
                stepPhysics(FIXED_DT, time);
                accumulator -= FIXED_DT;
            }

            // Direct render without postprocessing
            renderer.render(scene, camera);
        }

        // Track breakpoint to allow resize when switching desktop/mobile
        let lastIsMobile = window.innerWidth <= 768;
        let lockedCanvasHeight = null;
        
        function onResize(forceResize = false) {
            const isMobile = window.innerWidth <= 768;
            const w = container.offsetWidth || window.innerWidth;
            
            // Su mobile: blocca l'altezza al primo resize e non cambiarla più
            if (isMobile) {
                if (!lockedCanvasHeight || forceResize) {
                    lockedCanvasHeight = container.offsetHeight || window.innerHeight;
                }
                // Se non è un resize forzato, ignora
                if (!forceResize) {
                    return;
                }
            }
            
            // Usa l'altezza bloccata su mobile, altrimenti l'altezza reale
            const h = isMobile ? lockedCanvasHeight : (container.offsetHeight || window.innerHeight);
            
            if (w <= 0 || h <= 0) return;
            
            // Removed cap to ensure crisp rendering at 100%
            const pixelRatio = Math.min(window.devicePixelRatio, isMobile ? 2 : 2);
            renderer.setPixelRatio(Math.min(pixelRatio, isMobile ? 2 : 3));

            camera.aspect = w / h;
            camera.fov = isMobile ? 45 : 30;
            camera.updateProjectionMatrix();

            renderer.setSize(w, h);

            // Postprocessing disabled: no need to resize composer or passes
        }

        // Debounced resize for better performance (desktop only)
        let resizeTimeout;
        window.addEventListener('resize', function() {
            const isMobileView = window.innerWidth <= 768;
            const breakpointChanged = isMobileView !== lastIsMobile;
            
            if (breakpointChanged) {
                lastIsMobile = isMobileView;
                onResize(true);
                return;
            }
            
            if (isMobileView) {
                return;
            }
            
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(function() {
                onResize(false);
            }, 150);
        });
        
        // On mobile, only resize on orientation change
        window.addEventListener('orientationchange', function() {
            lastIsMobile = window.innerWidth <= 768;
            onResize(true);
        });

        // Desktop: observe container size changes (more reliable than window resize)
        if (typeof ResizeObserver !== 'undefined') {
            const resizeObserver = new ResizeObserver(() => {
                if (window.innerWidth > 768) {
                    onResize(true);
                }
            });
            resizeObserver.observe(container);
        }
        
        // Initial sizing
        onResize(true);

        // IntersectionObserver to pause animation when not visible (improves scroll performance)
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                animationPaused = !entry.isIntersecting;
                if (!animationPaused) clock.getDelta(); // Reset delta to avoid jump
            });
        }, { threshold: 0.1 });
        observer.observe(animationSection);

        // Services background animation (PROOF style)
        function initServicesBackground() {
            const servicesBg = document.getElementById('services-bg');
            if (!servicesBg) return;

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(60, 1, 0.1, 100);
        camera.position.set(0, 0, 35); // Initial position, updated when model loads
        camera.position.set(0, 0, 35); // Default position for when model doesn't load
            camera.position.z = 22;

            const renderer = new THREE.WebGLRenderer({
            antialias: !isMobile, // Disable antialiasing on mobile for performance
            alpha: true,
            powerPreference: isMobile ? 'default' : 'high-performance',
            preserveDrawingBuffer: true,
            failIfMajorPerformanceCaveat: false
        });
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            renderer.setClearColor(0x000000, 0);
            servicesBg.appendChild(renderer.domElement);

            // Larger plane to cover full screen
            const geometry = new THREE.PlaneGeometry(60, 60, 100, 100);
            const material = new THREE.MeshStandardMaterial({
                color: 0xffffff,
                metalness: 1.0,
                roughness: 0.08,
                emissive: new THREE.Color(0x333333),
                emissiveIntensity: 0.8
            });
            const plane = new THREE.Mesh(geometry, material);
            plane.rotation.x = -Math.PI / 3.5;
            scene.add(plane);

            const light1 = new THREE.DirectionalLight(0xffffff, 2.0);
            light1.position.set(1, 1, 1);
            scene.add(light1);
            const light2 = new THREE.DirectionalLight(0xffffff, 1.2);
            light2.position.set(-1, -1, 1);
            scene.add(light2);
            scene.add(new THREE.AmbientLight(0x808080));

            let bgTime = 0;
            let servicesBgPaused = true; // Inizia in pausa
            let servicesBgAnimationId = null;
            
            function animateServicesBg() {
                // Se in pausa, non fare nulla
                if (servicesBgPaused) {
                    servicesBgAnimationId = null;
                    return;
                }
                
                bgTime += 0.01;
                const positionAttribute = geometry.attributes.position;
                for (let i = 0; i < positionAttribute.count; i++) {
                    const x = positionAttribute.getX(i);
                    const y = positionAttribute.getY(i);
                    const z = Math.sin(x * 0.35 + bgTime) * Math.cos(y * 0.35 + bgTime) * 2.4;
                    positionAttribute.setZ(i, z);
                }
                positionAttribute.needsUpdate = true;
                geometry.computeVertexNormals();

                plane.rotation.z = bgTime * 0.04;
                renderer.render(scene, camera);
                servicesBgAnimationId = requestAnimationFrame(animateServicesBg);
            }
            
            // IntersectionObserver per pausare quando non visibile
            const serviziSection = document.getElementById('servizi');
            if (serviziSection && typeof IntersectionObserver !== 'undefined') {
                const servicesObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            // Visibile: riprendi animazione
                            servicesBgPaused = false;
                            if (!servicesBgAnimationId) {
                                animateServicesBg();
                            }
                            console.log('[Services BG] Animation resumed');
                        } else {
                            // Non visibile: pausa animazione
                            servicesBgPaused = true;
                            if (servicesBgAnimationId) {
                                cancelAnimationFrame(servicesBgAnimationId);
                                servicesBgAnimationId = null;
                            }
                            console.log('[Services BG] Animation paused');
                        }
                    });
                }, { threshold: 0.05 }); // 5% visibilità per attivare
                
                servicesObserver.observe(serviziSection);
            }

            // Flag per bloccare resize su mobile dopo il primo
            let servicesBgLocked = false;
            let servicesBgLockedWidth = null;
            let servicesBgLockedHeight = null;
            
            function resizeServicesBg(force = false) {
                const section = document.getElementById('servizi');
                if (!section) return;
                
                const isMobile = window.innerWidth <= 768;
                
                // Su mobile: blocca dopo il primo resize
                if (isMobile && servicesBgLocked && !force) {
                    return; // IGNORA tutti i resize successivi su mobile
                }
                
                // Use section dimensions for full coverage
                const width = section.offsetWidth || window.innerWidth;
                const height = section.offsetHeight || window.innerHeight;
                
                if (width <= 0 || height <= 0) return;
                
                // Su mobile: salva e blocca le dimensioni
                if (isMobile && !servicesBgLocked) {
                    servicesBgLockedWidth = width;
                    servicesBgLockedHeight = height;
                    servicesBgLocked = true;
                    console.log('[Services BG] Locked at:', width, 'x', height);
                }
                
                // Usa dimensioni bloccate su mobile, altrimenti quelle reali
                const finalWidth = isMobile ? servicesBgLockedWidth : width;
                const finalHeight = isMobile ? servicesBgLockedHeight : height;
                
                camera.aspect = finalWidth / finalHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(finalWidth, finalHeight, false);
                
                // Force canvas to cover full container
                const canvas = renderer.domElement;
                canvas.style.cssText = 'position:absolute!important;top:0!important;left:0!important;width:100%!important;height:100%!important;display:block!important;';
            }

            // Initial resize after a short delay to ensure CSS is applied
            setTimeout(() => resizeServicesBg(true), 100);
            setTimeout(() => resizeServicesBg(true), 500);
            
            // Observe section for resize - ONLY ON DESKTOP
            const section = document.getElementById('servizi');
            if (typeof ResizeObserver !== 'undefined' && section) {
                const ro = new ResizeObserver(() => {
                    // Solo su desktop
                    if (window.innerWidth > 768) {
                        requestAnimationFrame(() => resizeServicesBg(false));
                    }
                });
                ro.observe(section);
            }
            
            // Window resize - solo cambio orientamento su mobile
            let lastServicesWidth = window.innerWidth;
            window.addEventListener('resize', () => {
                const widthChanged = Math.abs(window.innerWidth - lastServicesWidth) > 100;
                if (window.innerWidth > 768) {
                    // Desktop: resize normale
                    resizeServicesBg(false);
                } else if (widthChanged) {
                    // Mobile: solo se cambia orientamento
                    lastServicesWidth = window.innerWidth;
                    servicesBgLocked = false; // Reset per ricalcolare
                    resizeServicesBg(true);
                }
                // Mobile senza cambio larghezza = IGNORA (barra indirizzi)
            });
            
            window.addEventListener('load', () => resizeServicesBg(true));
            
            // L'animazione parte solo quando la sezione è visibile
            // (gestito dall'IntersectionObserver sopra)
        }

        initServicesBackground();
        animate();
    </script>

    <!-- GSAP Animations -->
    <script>
        // Wait for DOM to be ready
        document.addEventListener('DOMContentLoaded', function () {
            // ===============================================
            // FIX: LOCK HERO HEIGHT ON MOBILE - AGGRESSIVE
            // Blocca completamente l'altezza al primo caricamento
            // ===============================================
            
            // Flag per sapere se l'altezza è già stata bloccata
            let mobileHeightLocked = false;
            let lockedHeight = null;
            let lastWidth = window.innerWidth;
            
            function lockMobileHeroHeight() {
                if (window.innerWidth > 768) {
                    // Desktop: rimuovi i blocchi
                    mobileHeightLocked = false;
                    lockedHeight = null;
                    document.documentElement.style.removeProperty('--stable-vh');
                    const heroSection = document.getElementById('animation-section');
                    const animContainer = document.getElementById('animation-container');
                    if (heroSection) {
                        heroSection.style.cssText = '';
                    }
                    if (animContainer) {
                        animContainer.style.cssText = '';
                    }
                    return;
                }
                
                // Mobile: blocca l'altezza UNA SOLA VOLTA
                if (!mobileHeightLocked) {
                    lockedHeight = window.innerHeight;
                    mobileHeightLocked = true;
                    
                    // Imposta la variabile CSS
                    document.documentElement.style.setProperty('--stable-vh', lockedHeight + 'px');
                    
                    // Blocca la sezione hero con stili inline forzati
                    const heroSection = document.getElementById('animation-section');
                    const animContainer = document.getElementById('animation-container');
                    const hudSheet = document.querySelector('.hud-sheet');
                    
                    if (heroSection) {
                        heroSection.style.cssText = `
                            height: ${lockedHeight}px !important;
                            min-height: ${lockedHeight}px !important;
                            max-height: ${lockedHeight}px !important;
                            overflow: hidden !important;
                        `;
                    }
                    if (animContainer) {
                        animContainer.style.cssText = `
                            height: ${lockedHeight}px !important;
                            min-height: ${lockedHeight}px !important;
                            max-height: ${lockedHeight}px !important;
                        `;
                    }
                    if (hudSheet) {
                        hudSheet.style.cssText = `
                            height: ${lockedHeight}px !important;
                            min-height: ${lockedHeight}px !important;
                            max-height: ${lockedHeight}px !important;
                        `;
                    }
                    
                    console.log('[Mobile] Hero height locked at:', lockedHeight + 'px');
                }
            }
            
            // Blocca immediatamente
            lockMobileHeroHeight();
            
            // Gestisci solo cambio orientamento o passaggio desktop/mobile
            window.addEventListener('resize', function() {
                const currentWidth = window.innerWidth;
                const widthChanged = Math.abs(currentWidth - lastWidth) > 100;
                
                // Se la larghezza è cambiata significativamente = orientamento o desktop/mobile
                if (widthChanged) {
                    lastWidth = currentWidth;
                    mobileHeightLocked = false; // Reset per ricalcolare
                    lockMobileHeroHeight();
                }
                // Se solo l'altezza cambia (barra indirizzi) = IGNORA
            });
            
            // Gestisci esplicitamente orientationchange
            window.addEventListener('orientationchange', function() {
                setTimeout(function() {
                    mobileHeightLocked = false;
                    lastWidth = window.innerWidth;
                    lockMobileHeroHeight();
                }, 100);
            });

            // ===============================================
            
            // Register ScrollTrigger
            gsap.registerPlugin(ScrollTrigger);
            
            // FIX: Disable ScrollTrigger refresh on mobile address bar changes
            if (window.innerWidth <= 768) {
                // Ignora resize causati dalla barra indirizzi
                ScrollTrigger.config({
                    ignoreMobileResize: true
                });
                
                // Blocca i refresh durante lo scroll
                let scrollTriggerLocked = false;
                ScrollTrigger.addEventListener('refreshInit', () => {
                    if (scrollTriggerLocked) return false;
                });
                
                // Blocca dopo il primo refresh
                setTimeout(() => {
                    scrollTriggerLocked = true;
                    console.log('[ScrollTrigger] Refresh locked on mobile');
                }, 1000);
            }

            // Hero text animation
            gsap.from('.hero-title span', {
                y: 100,
                opacity: 0,
                duration: 1.2,
                stagger: 0.15,
                ease: 'power4.out',
                delay: 0.5
            });

            gsap.from('.hero-tag', {
                x: -50,
                opacity: 0,
                duration: 1,
                ease: 'power3.out',
                delay: 0.3
            });

            gsap.from('.hero-desc', {
                y: 30,
                opacity: 0,
                duration: 1,
                ease: 'power3.out',
                delay: 0.8
            });

            gsap.from('.btn-group', {
                y: 30,
                opacity: 0,
                duration: 1,
                ease: 'power3.out',
                delay: 1
            });

            // Scroll-triggered animations for sections
            gsap.utils.toArray('.section').forEach(section => {
                gsap.from(section.querySelectorAll('.section-title, .section-num'), {
                    scrollTrigger: {
                        trigger: section,
                        start: 'top 80%',
                        toggleActions: 'play none none none'
                    },
                    y: 50,
                    opacity: 0,
                    duration: 0.8,
                    stagger: 0.1,
                    ease: 'power3.out'
                });
            });

            // Service cards animation
            gsap.utils.toArray('.service-card').forEach((card, i) => {
                gsap.from(card, {
                    scrollTrigger: {
                        trigger: card,
                        start: 'top 85%',
                        toggleActions: 'play none none none'
                    },
                    y: 60,
                    opacity: 0,
                    duration: 0.6,
                    delay: i * 0.1,
                    ease: 'power3.out'
                });
            });

            // Portfolio items animation
            gsap.utils.toArray('.portfolio-item').forEach((item, i) => {
                gsap.from(item, {
                    scrollTrigger: {
                        trigger: item,
                        start: 'top 85%',
                        toggleActions: 'play none none none'
                    },
                    scale: 0.9,
                    opacity: 0,
                    duration: 0.6,
                    delay: i * 0.1,
                    ease: 'power3.out'
                });
            });

            // About section animation
            gsap.from('.about-text', {
                scrollTrigger: {
                    trigger: '.about-grid',
                    start: 'top 80%',
                    toggleActions: 'play none none none'
                },
                x: -50,
                opacity: 0,
                duration: 0.8,
                ease: 'power3.out'
            });

            gsap.from('.about-image', {
                scrollTrigger: {
                    trigger: '.about-grid',
                    start: 'top 80%',
                    toggleActions: 'play none none none'
                },
                x: 50,
                opacity: 0,
                duration: 0.8,
                ease: 'power3.out'
            });

            // Footer animation
            gsap.from('.footer-cta', {
                scrollTrigger: {
                    trigger: 'footer',
                    start: 'top 80%',
                    toggleActions: 'play none none none'
                },
                y: 50,
                opacity: 0,
                duration: 0.8,
                ease: 'power3.out'
            });
        });
    </script>

    <!-- Hero Canvas Particle Animation (disabled for smoother scrolling) -->
    <script type="text/disabled">
        (function () {
            const canvas = document.getElementById('heroCanvas');
            if (!canvas) return;

            const ctx = canvas.getContext('2d');
            let width, height;
            const particles = [];
            const particleCount = 60;
            const orange = { r: 255, g: 107, b: 53 };
            const peach = { r: 255, g: 192, b: 159 };

            function resize() {
                width = canvas.width = canvas.offsetWidth;
                height = canvas.height = canvas.offsetHeight;
            }

            function createParticle() {
                const useOrange = Math.random() > 0.4;
                const color = useOrange ? orange : peach;
                return {
                    x: Math.random() * width,
                    y: Math.random() * height,
                    radius: Math.random() * 3 + 1,
                    color: color,
                    alpha: Math.random() * 0.5 + 0.1,
                    vx: (Math.random() - 0.5) * 0.5,
                    vy: (Math.random() - 0.5) * 0.3,
                    pulse: Math.random() * Math.PI * 2,
                    pulseSpeed: Math.random() * 0.02 + 0.01
                };
            }

            function init() {
                resize();
                particles.length = 0;
                for (let i = 0; i < particleCount; i++) {
                    particles.push(createParticle());
                }
            }

            function drawParticle(p) {
                const pulseAlpha = p.alpha * (0.7 + 0.3 * Math.sin(p.pulse));

                // Glow
                const gradient = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.radius * 4);
                gradient.addColorStop(0, `rgba(${p.color.r}, ${p.color.g}, ${p.color.b}, ${pulseAlpha})`);
                gradient.addColorStop(1, `rgba(${p.color.r}, ${p.color.g}, ${p.color.b}, 0)`);

                ctx.beginPath();
                ctx.arc(p.x, p.y, p.radius * 4, 0, Math.PI * 2);
                ctx.fillStyle = gradient;
                ctx.fill();

                // Core
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(${p.color.r}, ${p.color.g}, ${p.color.b}, ${pulseAlpha * 1.5})`;
                ctx.fill();
            }

            function update() {
                for (const p of particles) {
                    p.x += p.vx;
                    p.y += p.vy;
                    p.pulse += p.pulseSpeed;

                    // Wrap around
                    if (p.x < -10) p.x = width + 10;
                    if (p.x > width + 10) p.x = -10;
                    if (p.y < -10) p.y = height + 10;
                    if (p.y > height + 10) p.y = -10;
                }
            }

            function draw() {
                ctx.clearRect(0, 0, width, height);

                // Draw connecting lines between close particles
                ctx.strokeStyle = `rgba(255, 255, 255, 0.05)`;
                ctx.lineWidth = 0.5;
                for (let i = 0; i < particles.length; i++) {
                    for (let j = i + 1; j < particles.length; j++) {
                        const dx = particles[i].x - particles[j].x;
                        const dy = particles[i].y - particles[j].y;
                        const dist = Math.sqrt(dx * dx + dy * dy);
                        if (dist < 150) {
                            ctx.globalAlpha = (1 - dist / 150) * 0.3;
                            ctx.beginPath();
                            ctx.moveTo(particles[i].x, particles[i].y);
                            ctx.lineTo(particles[j].x, particles[j].y);
                            ctx.stroke();
                        }
                    }
                }
                ctx.globalAlpha = 1;

                for (const p of particles) {
                    drawParticle(p);
                }
            }

            function animate() {
                update();
                draw();
                requestAnimationFrame(animate);
            }

            // Debounced resize (desktop only). On mobile, resize only on orientation change
            // or when switching between desktop/mobile breakpoints.
            let particleResizeTimeout;
            let particleIsMobile = window.innerWidth <= 768;
            
            window.addEventListener('resize', function() {
                const isMobileView = window.innerWidth <= 768;
                const breakpointChanged = isMobileView !== particleIsMobile;
                
                if (breakpointChanged) {
                    particleIsMobile = isMobileView;
                    resize();
                    return;
                }
                
                if (isMobileView) {
                    return;
                }
                
                clearTimeout(particleResizeTimeout);
                particleResizeTimeout = setTimeout(resize, 150);
            });
            
            window.addEventListener('orientationchange', function() {
                particleIsMobile = window.innerWidth <= 768;
                resize();
            });
            
            init();
            animate();
        })();
    </script>

    <!-- Navigation Toggle Script -->
    <script>
        (function () {
            const navToggle = document.getElementById('navToggle');
            const navLinks = document.getElementById('navLinks');

            if (navToggle && navLinks) {
                navToggle.addEventListener('click', function () {
                    navToggle.classList.toggle('active');
                    navLinks.classList.toggle('active');
                });

                // Close menu when clicking a link
                navLinks.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                        navToggle.classList.remove('active');
                        navLinks.classList.remove('active');
                    });
                });
            }

            // Smooth scroll for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        const navHeight = document.querySelector('.navbar') ? document.querySelector('.navbar').offsetHeight : 0;
                        const targetPosition = target.offsetTop - navHeight;
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        })();

        // ========================================
        // ADVANCED PARTICLE SYSTEM FOR SECTIONS
        // ========================================
        (function initParticleBackgrounds() {
            // Particle backgrounds disabled for performance; original implementation removed.
        })();

        
    </script><script>
// MOBILE PERFORMANCE FIX
(function() {
    if (window.innerWidth <= 768) {
        // Reduce animation frame rate on mobile to 30fps
        var lastFrame = 0;
        var targetFPS = 30;
        var frameInterval = 1000 / targetFPS;
        
        var originalRAF = window.requestAnimationFrame;
        window.requestAnimationFrame = function(callback) {
            return originalRAF(function(timestamp) {
                if (timestamp - lastFrame >= frameInterval) {
                    lastFrame = timestamp;
                    callback(timestamp);
                } else {
                    originalRAF(callback);
                }
            });
        };
        console.log('Mobile mode: 30fps enabled');
    }
})();
</script>

<script>
// SCROLL PERFORMANCE FIX
(function() {
    // Make scroll events passive for better performance
    document.addEventListener('scroll', function() {}, { passive: true });
    document.addEventListener('touchstart', function() {}, { passive: true });
    document.addEventListener('touchmove', function() {}, { passive: true });
    
    // Reduce scroll checks on mobile
    if (window.innerWidth <= 768) {
        // Throttle scroll events
        let scrollThrottled = false;
        const originalAddEventListener = HTMLElement.prototype.addEventListener;
        HTMLElement.prototype.addEventListener = function(type, listener, options) {
            if (type === 'scroll') {
                const throttledListener = function(e) {
                    if (!scrollThrottled) {
                        scrollThrottled = true;
                        requestAnimationFrame(function() {
                            listener(e);
                            scrollThrottled = false;
                        });
                    }
                };
                return originalAddEventListener.call(this, type, throttledListener, { ...options, passive: true });
            }
            return originalAddEventListener.call(this, type, listener, options);
        };
    }
})();
</script>

<script type="text/disabled">
// GYROSCOPE MOTION EFFECT FOR R ANIMATION
(function() {
    if (window.innerWidth > 768) return; // Only on mobile
    
    let tiltX = 0, tiltY = 0;
    let targetX = 0, targetY = 0;
    
    // Get the animation container
    const animContainer = document.getElementById('animation-container');
    if (!animContainer) return;
    
    // Device orientation handler
    function handleOrientation(event) {
        // Get tilt values (limited range)
        targetX = Math.max(-15, Math.min(15, event.gamma || 0)); // Left-right tilt
        targetY = Math.max(-15, Math.min(15, event.beta - 45 || 0)); // Front-back tilt
    }
    
    // Device motion handler (for shake)
    function handleMotion(event) {
        const acc = event.accelerationIncludingGravity;
        if (acc) {
            // Add some shake effect
            const shakeX = Math.abs(acc.x) > 1 ? acc.x * 0.5 : 0;
            const shakeY = Math.abs(acc.y) > 1 ? acc.y * 0.5 : 0;
            targetX += shakeX;
            targetY += shakeY;
        }
    }
    
    // Smooth animation loop
    function animate() {
        // Smooth interpolation
        tiltX += (targetX - tiltX) * 0.1;
        tiltY += (targetY - tiltY) * 0.1;
        
        // Apply 3D transform to container
        animContainer.style.transform = 
            `perspective(1000px) rotateY(${tiltX * 0.5}deg) rotateX(${-tiltY * 0.3}deg)`;
        
        // Reset shake targets slowly
        targetX *= 0.95;
        targetY *= 0.95;
        
        requestAnimationFrame(animate);
    }
    
    // Request permission for iOS 13+
    if (typeof DeviceOrientationEvent !== 'undefined' && 
        typeof DeviceOrientationEvent.requestPermission === 'function') {
        // iOS 13+ requires permission
        document.body.addEventListener('click', function() {
            DeviceOrientationEvent.requestPermission()
                .then(function(response) {
                    if (response === 'granted') {
                        window.addEventListener('deviceorientation', handleOrientation);
                        window.addEventListener('devicemotion', handleMotion);
                    }
                });
        }, { once: true });
    } else {
        // Non-iOS
        window.addEventListener('deviceorientation', handleOrientation);
        window.addEventListener('devicemotion', handleMotion);
    }
    
    animate();
    console.log('Gyroscope motion effect enabled');
})();
</script>

<!-- iOS Safari Compatibility Script -->
<script>
(function() {
    'use strict';
    
    // Detect iOS
    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) || 
                  (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
    
    if (!isIOS) return;
    
    console.log('[iOS Compat] iOS device detected, applying fixes');
    
    // 1. Fix viewport height for iOS Safari
    function setIOSViewportHeight() {
        const vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', vh + 'px');
        document.documentElement.style.setProperty('--ios-vh', window.innerHeight + 'px');
    }
    
    setIOSViewportHeight();
    window.addEventListener('resize', setIOSViewportHeight);
    window.addEventListener('orientationchange', () => {
        setTimeout(setIOSViewportHeight, 100);
    });
    
    // 2. iOS touch event fixes for WebGL
    document.addEventListener('touchstart', function() {}, { passive: true });
    document.addEventListener('touchmove', function() {}, { passive: true });
    
    // 3. Prevent iOS rubber-banding on the animation section
    const animSection = document.getElementById('animation-section');
    if (animSection) {
        animSection.addEventListener('touchmove', function(e) {
            if (e.touches.length === 1) {
                // Allow vertical scroll but prevent horizontal
            }
        }, { passive: true });
    }
    
    // 4. iOS WebGL context loss recovery
    const canvases = document.querySelectorAll('canvas');
    canvases.forEach(canvas => {
        canvas.addEventListener('webglcontextlost', function(e) {
            console.warn('[iOS Compat] WebGL context lost, preventing default');
            e.preventDefault();
        }, false);
        
        canvas.addEventListener('webglcontextrestored', function() {
            console.log('[iOS Compat] WebGL context restored');
            // Trigger resize to reinitialize
            window.dispatchEvent(new Event('resize'));
        }, false);
    });
    
    // 5. GSAP ScrollTrigger iOS fixes
    if (typeof ScrollTrigger !== 'undefined') {
        ScrollTrigger.config({
            ignoreMobileResize: true
        });
        
        // Refresh on orientation change
        window.addEventListener('orientationchange', () => {
            setTimeout(() => ScrollTrigger.refresh(), 200);
        });
    }
    
    // 6. iOS Safari audio unlock (if audio exists)
    const audioElements = document.querySelectorAll('audio');
    if (audioElements.length > 0) {
        const unlockAudio = function() {
            audioElements.forEach(audio => {
                audio.play().then(() => audio.pause()).catch(() => {});
            });
            document.removeEventListener('touchstart', unlockAudio);
        };
        document.addEventListener('touchstart', unlockAudio, { passive: true });
    }
    
    console.log('[iOS Compat] All iOS fixes applied');
})();
</script>
</body>

</html>